
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">












<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<link href="favicon.ico" rel="shortcut icon" type="image/x-icon" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />





<title>28. Error - A2 Online Judge</title>

<meta name="description" content="A2 Online Judge (or Virtual Online Contests) is an online judge with hundreds of problems and it helps you to create, run and participate in virtual contests using problems from the following online judges: A2 Online Judge, Live Archive, Codeforces, Timus, SPOJ, TJU, SGU, PKU, ZOJ, URI. It also helps you to manage and track your programming comepetions training for you and your friends. It helps for ICPC ACM and IOI training also.">
<meta name="keywords" content="ahmed aly,ahmed aly tools,voc,virtual online contests,programming,c++,java,contest,contests,competition,competitions,programming contest,programming contests,programming compitition,programming compititions,cf,codeforces,live archive,uva,spoj,tju,sgu,pku,timus,zoj,uri,programming tools,a2oj,a2 online judge">
<meta name="author" content="Ahmed Aly">
<link href="default.css" rel="stylesheet" type="text/css" />
<link href='DroidSansMono.css' rel='stylesheet' type='text/css'>

		<link rel="stylesheet" href="css/nav.css" />
		<!--[if IE]>
			<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->

<!-- START TRACKING CODE -->
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push( [ '_setAccount', 'UA-16947566-3' ]);
	_gaq.push( [ '_trackPageview' ]);

	( function() {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl'
				: 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();
</script>
<!-- END TRACKING CODE -->


<script src="jquery-latest.js"></script>



</head>
<body class="no-js">

<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=123446397673080";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

    	<script>
			var el = document.getElementsByTagName("body")[0];
			el.className = "";
		</script>
        <noscript>
        	<!--[if IE]>
            	<link rel="stylesheet" href="css/ie.css">
            <![endif]-->
        </noscript>
        

<center>
<table width="100%">
<tr>
<td>
        


<div id="wrapper"><!-- start header -->

<div id="logo">
<table width="100%">
<tr>
<td style="vertical-align: bottom;"><a href="/"><img src="logo.png"></a></td>
<td>
<h1 style="padding-top: 11px;">A<sup>2</sup> Online Judge</h1>
<h2 class="author">&raquo;&nbsp;&nbsp;&nbsp;&nbsp; by <a href="https://www.facebook.com/ahmed.aly.tc" target="_blank" style="text-decoration: none;">Ahmed Aly</a></h2>
<br/>
<h3>Sponsored by <b><a href="https://www.facebook.com/elcoachacademy/" target="_blank" style="text-decoration: none;">Coach Academy</a></b> & <b><a href="https://www.facebook.com/acmacpc/" target="_blank" style="text-decoration: none;">ACPC</a></b>, <a href="https://www.codechef.com/" target="_blank" style="text-decoration: none;">CodeChef</a> and <a href="http://www.codability.net/" target="_blank" style="text-decoration: none;">Codability</a></h3>
</td>
<td style="text-align: right; padding-top: 27px;">
<iframe src="https://www.facebook.com/plugins/like.php?show_faces=false&href=https://www.facebook.com/A2OnlineJudge"
	scrolling="no" frameborder="0"
	style="border:none; height:45px"></iframe>
</td>
</tr>
</table>
</div>

<div id="header3"><div align="right"><a href="signin?url=%2Fp%3FID%3D28" style="font-size: 15px;">Sign In</a> - <a href="signup" style="font-size: 15px;">Sign Up</a></div></div>


<div id="header2">
<div id="menu2">

        <nav id="topNav">
          <ul>
<li><a href="/">Contests</a></li><li><a href="ladders"><font color="red">Ladders</font></a></li><li><a href="ps">Problems</a></li><li><a href="status">Status</a></li><li><a href="categories">Categories</a></li><li><a href="groups">Groups</a></li><li><a href="javascript:void();">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;More&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a><ul><li><center><a href="http://goo.gl/Fq5mru" target="_blank">GCJ Tools</a></center></li><li><center><a href="codes">Source Codes</a></center></li><li><center><a href="finder">Problems Finder</a></center></li><li><center><a href="users">Users</a></center></li><li><center><a href="teams">Teams</a></center></li><li><center><a href="cumulative">Cumulative Rank</a></center></li></ul></li><li class="last"><a href="about">About</a></li>
          </ul>
        </nav>
        
        
        <script src="js/modernizr.js"></script>
		<script>
			(function($){
				
				//cache nav
				var nav = $("#topNav");
				
				//add indicator and hovers to submenu parents
				nav.find("li").each(function() {
					if ($(this).find("ul").length > 0) {
						$("<span>").text("^").appendTo($(this).children(":first"));

						//show subnav on hover
						$(this).mouseenter(function() {
							$(this).find("ul").stop(true, true).slideDown();
						});
						
						//hide submenus on exit
						$(this).mouseleave(function() {
							$(this).find("ul").stop(true, true).slideUp();
						});
					}
				});
			})(jQuery);
		</script>


</div>
</div>
<!-- end header --></div>
<!-- start page -->
</td>
</tr>


<tr>

<td style="vertical-align: top;">
<center>
<table>
<tr style="max-height: 0px; padding: 0px;">
<td style="max-height: 0px; padding: 0px; min-width: 165px;"></td>
<td style="max-height: 0px; padding: 0px; min-width: 1060px;"></td>
<td style="max-height: 0px; padding: 0px; min-width: 165px;"></td>
</tr>
<tr>
<td style="padding: 0px; vertical-align: top;">
<div id="leftAd">


</div>
</td>
<td style="padding: 0px; vertical-align: top;">
<div id="page">

<font size="3">
<center>





</center>
</font>

<center>



<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 20px; font-weight: bold;">
<table>
<tr style="background: #E0E0E0;">
<td style="padding: 10px;"><a href="submit?ID=28">Submit</a></td>

<td style="padding: 10px;"><a href="status?Sort=Time&ID=28">Best Submissions</a></td>
<td style="padding: 10px;"><a href="status?ID=28">All Submissions</a></td>

</tr>
</table>

<br />

28. Error

</div>
</center>
<br/><br/>

<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 19px; font-weight: bold; text-decoration: underline;">
Problem Statement:
</div>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 17px;">
Your boss is very upset. He just discovered that his coming flight to the US was booked wrong. Your boss wanted to do his trip using the least number of transit stops. The secretary have booked flight segments that do not meet this condition. Given that the segments are already booked, your boss decided that the resolution of this issue needs you, the programmer.<br/><br/>You are given the possible flight connections between pairs of cities where each connection can be used in both directions. You are also given the set of faulty segments that were booked by the secretary. Your goal is to book the least number of additional segments, which, when combined with the already booked segments, can enable your boss the flexibility to reach his destination in the least number of stops.<br/><br/>The segments booked by the secretary are all flexible in timing and can be used in any order. Note that you can use some, all or none of the segments already booked, in addition to the segments you will add. However, an already booked segment from A to B can only be used from A to B and not from B to A. See examples for further clarification.

</div>



<br/><br/>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 19px; font-weight: bold; text-decoration: underline;">
Input Format:
</div>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 17px;">
Your program will be tested on one or more test cases. The first line of the input will be a single integer T, the number of test cases (1 &le; T &le; 100). After that follow the specifications of T test cases.<br/><br/>Each case is specified in N + 2 lines. Each case starts with a line containing an integer N (1&le; N &le; 100,000), the number of available direct flight connections. Each of the following N lines contain the names of two different airports between which a direct flight connection exists and can be used in both directions. Every airport name is composed of exactly three capital letters. In each case, there will be at most one available direct flight connection between any pair of airports. The last line in each case contains the faulty ticket booked by the secretary.<br/><br/>The ticket is in the form &quot;M A<sub>1</sub> A<sub>2</sub>...A<sub>M+1</sub>&quot;, where M is the number of flight segments already booked, and A<sub>i</sub> is an airport name (composed of three capital letters). Any two consecutive airport names in this line mean there is a flight segment booked from the earlier airport to the latter airport. The segments booked were so faulty, that there can be cycles and even multiple bookings of the same flight segment. However, the segments are from the available flight connections (which are described in the N lines above).

</div>

<br/><br/>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 19px; font-weight: bold; text-decoration: underline;">
Output Format:
</div>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 17px;">
For each test case, output, on a single line, a single number representing the minimum number of flight segments that have to be booked, such that, when combined with the already booked segments, the final ticket can be used to go from airport A<sub>1</sub> to airport A<sub>M+1</sub> in the least number of segments.

</div>

<br/><br/>
<div style="font-family: 'Droid Sans Mono', sans-serif;  font-size: 19px; font-weight: bold; text-decoration: underline;">
Sample Input:
</div>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 17px; white-space: pre;">3
5
LHR JFK
CAI LHR
FRA CAI
FRA JFK
FRA LHR
3 CAI FRA LHR JFK
5
CAI FRA
FRA LHR
LHR CDG
CDG FRA
LHR JFK
7 CAI FRA CDG LHR FRA CDG LHR JFK
3
CAI FRA
FRA JFK
CAI JFK
1 CAI JFK
</div>

<br/><br/>
<div style="font-family: 'Droid Sans Mono', sans-serif;  font-size: 19px; font-weight: bold; text-decoration: underline;">
Sample Output:
</div>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 17px; white-space: pre;">1
1
0
</div>

<br/><br/>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 19px; font-weight: bold; text-decoration: underline;">
Notes:
</div>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 17px;">
In the first case of Sample Input, adding the segment FRA-JFK or CAI-LHR will enable the boss to go from CAI to JFK in one stop, which is the least number of stops to go from CAI to JFK.<br/><br/>In the second case, the least number of stops can be achieved only using the path CAI-FRA-LHR-JFK. However, the secretary had the segment LHR-FRA booked and not the other way around, so you have to add FRA-LHR to achieve the least number of stops.<br/><br/>In the third case, the secretary booked an optimal ticket so you do not need to add any segments.
</div>


<br/><br/>

<center>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 20px; font-weight: bold;">
<table>
<tr style="background: #E0E0E0;">
<td style="padding: 10px;"><a href="submit?ID=28">Submit</a></td>

<td style="padding: 10px;"><a href="status?Sort=Time&ID=28">Best Submissions</a></td>
<td style="padding: 10px;"><a href="status?ID=28">All Submissions</a></td>

</tr>
</table>
</div>

<br /><br /><br />

<div class="fb-comments" data-href="https://a2oj.com/p?ID=28" data-width="800"></div>

</center>

<p style="border-bottom: 1px solid #5C5C5C;
  padding-bottom: 6px;
  margin-bottom: 1em;">
</p>

<center>
<div style="font-family: 'Droid Sans Mono', sans-serif; font-size: 15px;">
<table>
<tr>
<td style="padding-right: 15px; width: 126px;">
Added by:
</td>
<td>
<a href="profile?Username=abdelkarim">abdelkarim</a>
</td>
</tr>
<tr>
<td style="padding-right: 15px;">
Added at:
</td>
<td>
2014-02-26 01:15:00 UTC
</td>
</tr>
<tr>
<td style="padding-right: 15px;">
Time Limit:
</td>
<td>
3 seconds

</td>
</tr>
<tr>
<td style="padding-right: 15px;">
Partial score:
</td>
<td>
No
</td>
</tr>

<tr><td style="padding-right: 15px;">Source:</td><td><a href="source?ID=3">ACM Arab Collegiate Programming Contest 2011</a></td></tr>

</table>
</div>
</center>

</div>
</td>
<td style="padding: 0px; vertical-align: top;">
<div id="rightAd">


</div>
</td>
</tr>
</table>
</center>
<!-- end page -->
<!-- start footer -->
<div id="footer">
<p id="legal">A2OJ &copy; Copyright 2011-2016 <b><a
	href="https://www.facebook.com/ahmed.aly.tc" target="_blank"
	style="text-decoration: none;">Ahmed Aly</a></b> All Rights Reserved. A2OJ uses <a href="http://sphere-engine.com" target="_blank" style="text-decoration: none;">Sphere Engine</a>&trade; &copy; by <a href="http://sphere-research.com" target="_blank" style="text-decoration: none;">Sphere Research Labs</a>.</p>
</div>
</td>


</tr>
</table>
</center>
<!-- end footer -->


</body>
</html>
