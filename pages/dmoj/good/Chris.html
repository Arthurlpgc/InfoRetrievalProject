<!DOCTYPE html>
<html lang="en">
<head>
<title>Christmas Cozonac - DMOJ: Modern Online Judge
</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="DMOJ,Canadian,Don Mills,DMCI,online judge,programming,code,contest,CCC,CCC Solutions,CCC 2015,IOI,JOI,COCI,DMOPC,Canada,Ontario,Toronto,grade,interactive">
<meta name="description" content="This year, the day before Christmas Eve, Gigel watched all day his lovely mother working on cozonac. In the morning of that day, Gigel&#39;s mother told him all the recipes that she was going to use, and he wrote them in his notebook. Then he started watching his mother work, and wrote all the steps involved. However, every year, after ...">
<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1">

<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<meta name="msapplication-TileColor" content="#FFBB33">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">

<meta name="theme-color" content="#FFBB33">
<meta property="og:title" content="Christmas Cozonac - DMOJ: Modern Online Judge">
<meta property="og:site_name" content="DMOJ: Modern Online Judge">
<meta property="og:url" content="https://dmoj.ca/problem/year2017p4">
<meta property="og:description" content="This year, the day before Christmas Eve, Gigel watched all day his lovely mother working on cozonac. In the morning of that day, Gigel&#39;s mother told him all the recipes that she was going to use, and he wrote them in his notebook. Then he started watching his mother work, and wrote all the steps involved. However, every year, after ..."><!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
<script>window.bad_browser = true</script>
<![endif]-->
<link rel="stylesheet" href="//dmoj.ml/static/cache/css/c8b3f96d55e0.css" type="text/css" />
<link rel="canonical" href="https://dmoj.ca/problem/year2017p4">
<link rel="stylesheet" href="//dmoj.ml/static/cache/css/158490f673bf.css" type="text/css" media="all" />
<style>.title-state {
    font-size: 2em;
    float: left;
    width: 1.1em;
    display: block;
    margin-top: 0.16em;
}

.info-float a {
    vertical-align: middle;
}

.problem-clarification {
    border-bottom: 1px solid #ccc;
    margin-top: 1em;
    margin-bottom: 1em;
}

.clarifications-area h2 {
    margin-bottom: 20px;
}

.problem-clarification .body {
    display: inline-block;
    padding-left: 3em;
}
</style><script type="text/javascript" src="//dmoj.ml/static/cache/js/90b83b3c98b1.js"></script>
<script type="text/javascript" src="//dmoj.ml/static/cache/js/0e33e8898e76.js"></script>
<script src="//dmoj.ml/static/libs/featherlight/featherlight.min.a0e732b080f0.js" type="text/javascript"></script><script type="text/javascript" src="//dmoj.ml/static/cache/js/6fab94eb70e0.js"></script>
<script>$(function () {
    $('a#clone-link').click(function (event) {
        event.preventDefault();
        if (confirm('Are you sure you want to clone?'))
            $(this).closest("form").submit();
    })
});
</script>
<script type="text/javascript">window.user = {};</script><script>window.user && Raven.setUserContext(window.user)</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56757436-1', 'auto');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');

</script>

<noscript>
      <style>#content {
    margin: 80px auto auto;
}

#navigation {
    top: 27px;
}
      </style>
    </noscript>
</head>
<body>
<nav id="navigation" class="unselectable">
<div id="nav-container"><a id="navicon" href="javascript:void(0)"><i class="fa fa-bars"></i></a>
<ul id="nav-list">
<li class="home-nav-element"><a href="/"><img src="//dmoj.ml/static/icons/logo.d0dbdf0b98be.svg" alt="DMOJ" width="160" height="44" onerror="this.src=&quot;//dmoj.ml/static/icons/logo.2f426bc39826.png&quot;; this.onerror=null" style="border: none" /></a>
</li>

<li class="home-nav-element"><span style="width: 1px; vertical-align: middle; padding-left: 3px; display: inline-block; height: 32px; margin-right: 1px; border-right: 3px solid rgba(255, 255, 255, 0.15);"></span>
</li>
<li class="home-menu-item"><a href="/" class="nav-home">Home</a>
</li>
<li><a href="/problems/" class="nav-problem active">Problems
</a>
</li>
<li><a href="/submissions/" class="nav-submit">Submissions
</a>
</li>
<li><a href="/users/" class="nav-user">Users
</a>
</li>
<li><a href="/contests/" class="nav-contest">Contests
</a>
</li>
<li><a href="/about/" class="nav-about">About
<div href="javascript:void(0)" class="nav-expand">></div></a>
<ul>
<li><a href="/status/" class="nav-status">Status
</a>
</li>
<li><a href="/runtimes/" class="nav-runtimes">Runtimes
</a>
</li>
<li><a href="/tips/" class="nav-tips">Tips
</a>
</li>
<li><a href="/api/" class="nav-api">API
</a>
</li>
<li><a href="https://github.com/DMOJ" class="nav-github">Github
</a>
</li></ul>
</li>
</ul><span id="user-links"><span class="anon"><a href="/accounts/login/?next=/problem/year2017p4"><b>Login</b></a>&nbsp;|&nbsp;<a href="/accounts/register/">Register</a></span></span>
</div>
<div id="nav-shadow"></div>
</nav>
<div id="page-container">
<noscript>
        <div id="noscript">This site works best with JavaScript enabled.
        </div>
      </noscript><br>
<article id="content">
<div class="problem-title">
<h2 style="color:#393630; display: inline-block">Christmas Cozonac</h2><span class="spacer"></span><a href="/problem/year2017p4/pdf" class="view-pdf"><span style="position: relative; display: inline-block; font-size: 1.5em"><span style="color: #d40e13" class="fa fa-file-pdf-o"></span><span style="height: 0.2em; display: block; position: absolute; top: 0.3em; background: #d40e13; width: 0.6em; margin-left: -0.15em"></span></span> View as PDF</a>
</div>
<hr>
<div id="content-body">
<div id="common-content">
<div id="content-right">
<div class="info-float"><a href="/problem/year2017p4/submit" class="unselectable button full">Submit solution</a>
<hr />
<div><a href="/problem/year2017p4/submissions/">All submissions</a>
</div>
<div><a href="/problem/year2017p4/rank/">Best submissions</a>
</div>
<hr />
<div><a href="/problem/year2017p4/editorial">Read editorial</a>
</div>
<hr /><br />
<div class="problem-info-entry"><i class="fa fa-check fa-fw"></i><span class="pi-name">Points:</span><span class="pi-value">12
(partial)</span>
</div>
<div class="problem-info-entry"><i class="fa fa-clock-o fa-fw"></i><span class="pi-name">Time limit:</span><span class="pi-value">2.0s</span>
</div>
<div class="problem-lang-limits">
</div>
<div class="problem-info-entry"><i class="fa fa-server fa-fw"></i><span class="pi-name">Memory limit:</span><span class="pi-value">128M</span>
</div>
<div class="problem-lang-limits">
</div>
<div class="problem-info-entry"><i class="fa fa-pencil-square-o fa-fw"></i><span class="pi-name">Author:</span>
<div class="pi-value authors-value"><span class="rating rate-candidate-master user"><a href="/user/WallE256">WallE256</a></span>
</div>
</div><br />
<div id="problem-types">
<div class="toggle closed unselectable"><span class="fa fa-chevron-right fa-fw"></span>Problem type
</div>
<div style="display:none" class="toggled">Data Structures</div>
</div><br />
</div>
</div>
<div id="content-left" class="split-common-content">
<div class="content-description screen"><div><p>This year, the day before Christmas Eve, Gigel watched all day his lovely mother working on <a href="https://en.wikipedia.org/wiki/Cozonac" rel="nofollow">cozonac</a>. In the morning of that day, Gigel's mother told him all the recipes that she was going to use, and he wrote them in his notebook. Then he started watching his mother work, and wrote all the steps involved. However, every year, after baking, the cozonac cakes get scrambled and no one knows what filling each one has.</p>
<p>So, this year, Gigel wants to put the cozonac cakes in different bags and label them. But he is lost in his notebook, after making so many, so he needs your help. He will write the things in his notebook as input, and he expects you to tell him the name of the final product.</p>
<h4>Input Specification</h4>
<p>On the first line of input you will find <math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mi>N</mi>
<annotation encoding="application/x-tex">N</annotation>
</semantics>
</math>, the number of combinations Gigel found out from his mother.<br>
On the next <math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mi>N</mi>
<annotation encoding="application/x-tex">N</annotation>
</semantics>
</math> lines of input you will find a combination. The combinations will look like <code>( i1 + i2 + ... + ix ) = rez</code>, where <math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow>
<msub>
<mi>i</mi>
<mn>1</mn>
</msub>
<mo>,</mo>
<msub>
<mi>i</mi>
<mn>2</mn>
</msub>
<mo>,</mo>
<mo>…</mo>
<mo>,</mo>
<msub>
<mi>i</mi>
<mi>x</mi>
</msub>
</mrow>
<annotation encoding="application/x-tex">i_1, i_2, \dots, i_x</annotation>
</semantics>
</math> are the ingredients, <math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow>
<mi>r</mi>
<mi>e</mi>
<mi>z</mi>
</mrow>
<annotation encoding="application/x-tex">rez</annotation>
</semantics>
</math> is the result and every different element is separated by a space.<br>
On the next line of input you will find <math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mi>C</mi>
<annotation encoding="application/x-tex">C</annotation>
</semantics>
</math>, the number of cozonac cakes baked by Gigel's mother.<br>
On the next <math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mi>C</mi>
<annotation encoding="application/x-tex">C</annotation>
</semantics>
</math> lines of input you will find the recipe for that particular cozonac. The formatting is the same, but now you can also have other combinations as ingredients.</p>
<h4>Output Specification</h4>
<p>For each cozonac recipe, print on a different line the name of it.</p>
<h4>Constraints and notes</h4>
<ul>
<li><math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow>
<mn>3</mn>
<mo>≤</mo>
<mi>N</mi>
<mo>≤</mo>
<mn>120</mn>
<mspace width="thinmathspace"></mspace>
<mn>000</mn>
</mrow>
<annotation encoding="application/x-tex">3 \le N \le 120\,000</annotation>
</semantics>
</math></li>
<li><math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow>
<mn>1</mn>
<mo>≤</mo>
<mi>C</mi>
<mo>≤</mo>
<mn>200</mn>
</mrow>
<annotation encoding="application/x-tex">1 \le C \le 200</annotation>
</semantics>
</math></li>
<li>Combination <math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow>
<mo stretchy="false">(</mo>
<msub>
<mi>i</mi>
<mn>1</mn>
</msub>
<mo>+</mo>
<msub>
<mi>i</mi>
<mn>2</mn>
</msub>
<mo>+</mo>
<msub>
<mi>i</mi>
<mn>3</mn>
</msub>
<mo stretchy="false">)</mo>
</mrow>
<annotation encoding="application/x-tex">( i_1 + i_2 + i_3 )</annotation>
</semantics>
</math> is <math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mo>≡</mo>
<annotation encoding="application/x-tex">\equiv</annotation>
</semantics>
</math> to <math xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow>
<mo stretchy="false">(</mo>
<msub>
<mi>i</mi>
<mn>2</mn>
</msub>
<mo>+</mo>
<msub>
<mi>i</mi>
<mn>1</mn>
</msub>
<mo>+</mo>
<msub>
<mi>i</mi>
<mn>3</mn>
</msub>
<mo stretchy="false">)</mo>
</mrow>
<annotation encoding="application/x-tex">( i_2 + i_1 + i_3 )</annotation>
</semantics>
</math>.</li>
<li>The names of the ingredients will not exceed a length of 25 characters.</li>
<li>Each recipe will have no more than 16 ingredients.</li>
</ul>
<h4>Sample Input</h4>
<pre><code>6
( BakerYeast + Sugar ) = YeastReaction
( Flour + Eggs + Milk + YeastReaction + Butter ) = Dough
( Dough + Time ) = MoreDough
( MoreDough + Knife ) = MoreDoughPart
( Cocoa + Sugar + Egg + Egg ) = CocoaFilling
( MoreDoughPart + CocoaFilling ) = CocoaCozonac
2
( ( Cocoa + Egg + Sugar + Egg ) + ( Knife + ( ( Flour + Eggs + ( BakerYeast + Sugar ) + Milk + Butter ) + Time ) ) )
( ( Knife + ( ( Flour + Eggs + ( BakerYeast + Sugar ) + Milk + Butter ) + Time ) ) + CocoaFilling )</code></pre>
<h4>Sample Output</h4>
<pre><code>CocoaCozonac
CocoaCozonac</code></pre>
</div>
<hr />
</div>
<div id="comments" class="comment-area">
<h2><i style="padding-right: 0.3em" class="fa fa-comments"></i>Comments
</h2>
<ul class="comments top-level-comments new-comments">
<li id="comment-4005" data-revision="0" data-max-revision="0" data-revision-ajax="/comments/4005/history/ajax" class="comment">
<div class="comment-display">
<div class="info">
<div class="vote"><a href="javascript:void(0)" title="Please login to vote" class="upvote-link fa fa-chevron-up fa-fw"></a><br />
<div class="comment-score">0</div><a href="javascript:void(0)" title="Please login to vote" class="downvote-link fa fa-chevron-down fa-fw"></a>
</div><a href="/user/jimgao" class="user"><img src="//www.gravatar.com/avatar/3a3cd3c86b0056843a0c5ed968a45333?s=135&d=identicon" class="gravatar" /></a>
</div>
<div class="detail">
<div class="header"><a href="/user/jimgao" class="username rating rate-candidate-master user">jimgao</a>
<div class="relative-time"></div><span data-unix="2017-01-02T00:39:44+00:00" class="comment-time">&nbsp;commented
<span class="relative">on Jan. 1, 2017</span></span><span class="comment-spacer"></span><span class="comment-operation"><span class="comment-edits"></span><a href="#comment-4005" title="Link" class="comment-link"><i class="fa fa-link fa-fw"></i></a></span>
</div>
<div class="content content-description">
<div style="" class="comment-title">Bounds</div>
<div class="comment-body"><p>What is the maximum number of ingredients in each combination?</p>
</div>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
<script type="text/javascript">function mathjax_pagedown(a){if("MathJax"in window){a.each(window.editors,function(d,b){var c=a("div.wmd-preview#"+d+"_wmd_preview")[0];b.hooks.chain("onPreviewRefresh",function(){MathJax.Hub.Queue(["Typeset",MathJax.Hub,c])});MathJax.Hub.Queue(["Typeset",MathJax.Hub,c])})}}window.mathjax_pagedown=mathjax_pagedown;$(window).load(function(){(mathjax_pagedown)("$"in window?$:django.jQuery)});</script>
<footer><span id="footer-content"><br><a style="color: rgb(128, 128, 128)" href="//github.com/DMOJ/">fork us on <span style="font-weight:bold">Github</span></a> | <a style="color: rgb(128, 128, 128);" href="//www.facebook.com/dmoj.ca">like us on <span style="font-weight: bold;">Facebook</span></a> | <a style="color: rgb(128, 128, 128)" href="https://translate.dmoj.ca/">help us <span style="font-weight: bold;">translate</span></a> | <a style="color: rgb(128, 128, 128)" href="https://dmoj.ca/tos/">terms of service</a>
|
<form action="/i18n/setlang/" method="post" style="display: inline"><input type='hidden' name='csrfmiddlewaretoken' value='2BfO0z5IEGLnk2TzjVKMV5hceVDfnCUyHr9WKx7PHdeKjzluh5PefDtZCjkYgm7S' />
<input name="next" type="hidden" value="/problem/year2017p4">
<select name="language" onchange="form.submit()" style="height: 1.5em">
<option value="de">Deutsch (de)
</option>
<option value="en" selected="">English (en)
</option>
<option value="fr">français (fr)
</option>
<option value="ro">Română (ro)
</option>
<option value="ru">Русский (ru)
</option>
<option value="sr-latn">srpski (latinica) (sr-latn)
</option>
<option value="vi">Tiếng Việt (vi)
</option>
<option value="zh-hans">简体中文 (zh-hans)
</option>
</select>
</form></span>
</footer>
</div>
</body>
</html>