
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="e0954433c2cad524c94a0eb65a910a59"/>
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=0.01"/>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery-1.8.3.js"></script>
    <script type="application/javascript">
        window.standaloneContest = false;
        function adjustViewport() {
            var screenWidthPx = Math.min($(window).width(), window.screen.width);
            var siteWidthPx = 1100; // min width of site
            var ratio = Math.min(screenWidthPx / siteWidthPx, 1.0);
            var viewport = "width=device-width, initial-scale=" + ratio;
            $('#viewport').attr('content', viewport);
            var style = $('<style>html * { max-height: 1000000px; }</style>');
            $('html > head').append(style);
        }

        if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {
            adjustViewport();
        }
    </script>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta http-equiv="profileName" content="c4">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90"/>
    <meta property="fb:admins" content="100001352546622" />
    <meta property="og:image" content="http://st.codeforces.com/s/71216/images/codeforces-telegram-square.png" />
    <link rel="image_src" href="http://st.codeforces.com/s/71216/images/codeforces-telegram-square.png" />
    <meta property="og:title" content="RCC 2017 - Codeforces"/>
    <meta property="og:description" content=""/>
    
    <meta property="og:site_name" content="Codeforces"/>
    
    
    
    
    
    <meta name="utc_offset" content="+03:00"/>
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2" />
    <title>RCC 2017 - Codeforces</title>
        <meta name="description" content="Codeforces. Programming competitions and contests, programming community" />
        <meta name="keywords" content="programming algorithm contest competition informatics olympiads c++ java graphs vkcup" />
    <meta name="robots" content="index, follow" />

    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/font-awesome.min.css" type="text/css" charset="utf-8" />

        <link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Cuprum&subset=latin,cyrillic' rel='stylesheet' type='text/css'>


    <link rel="shortcut icon" type="image/png" href="http://st.codeforces.com/s/71216/favicon.png">

    <!--CombineResourcesFilter-->
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/prettify.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/clear.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/style.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/ttypography.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/problem-statement.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/second-level-menu.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/roundbox.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/datatable.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/table-form.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/topic.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/jquery.jgrowl.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/facebox.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/jquery.wysiwyg.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/jquery.autocomplete.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/codeforces.datepick.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/colorbox.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/jquery.drafts.css" type="text/css" charset="utf-8" />
        <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/community.css" type="text/css" charset="utf-8" />
        <link rel="stylesheet" href="http://st.codeforces.com/s/71216/css/sidebar-menu.css" type="text/css" charset="utf-8" />

    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/prettify/prettify.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/moment.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/pushstream.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.easing.min.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.lavalamp.min.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.jgrowl.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.swipe.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/facebox.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.wysiwyg.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/controls/wysiwyg.colorpicker.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/controls/wysiwyg.table.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/controls/wysiwyg.image.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/controls/wysiwyg.link.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.autocomplete.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.datepick.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.ie6blocker.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.colorbox-min.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.ba-bbq.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/jquery.drafts.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/sjcl.js"></script>
    <script type="text/javascript" src="/scripts/e0a03286103f205dc07daf2bab9284ca/en/codeforces-options.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/js/codeforces.js?v=20160131"></script>
    <!--/CombineResourcesFilter-->

    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/markitup/skins/markitup/style.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="http://st.codeforces.com/s/71216/markitup/sets/markdown/style.css" type="text/css" charset="utf-8" />

    <script type="text/javascript" src="//yandex.st/share/share.js" charset="utf-8"></script>

    <script type="text/javascript" src="http://st.codeforces.com/s/71216/markitup/jquery.markitup.js"></script>
    <script type="text/javascript" src="http://st.codeforces.com/s/71216/markitup/sets/markdown/set.js"></script>

    <!--[if IE]>
    <style>
        #sidebar {
            padding-left: 1em;
            margin: 1em 1em 1em 0;
        }
    </style>
    <![endif]-->


</head>
<body><span style='display:none;' class='csrf-token' data-csrf='e0954433c2cad524c94a0eb65a910a59'>&nbsp;</span>

<div class="button-up" style="display: none; opacity: 0.7; width: 50px; height:100%; position: fixed; left: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: #d3dbe4; font-weight: bold; font-size: 3.0rem;"><i class="icon-circle-arrow-up"></i></div>

<!-- Codeforces JavaScripts. -->
<script type="text/javascript">
    var queryMobile = Codeforces.queryString.mobile;
    if (queryMobile === "true" || queryMobile === "false") {
        Codeforces.putToStorage("useMobile", queryMobile == "true");
    } else {
        var useMobile = Codeforces.getFromStorage("useMobile");
        if (useMobile === true || useMobile === false) {
            if (useMobile != false) {
                Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", useMobile));
            }
        }
    }
</script>
<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>
<script type="text/javascript">
    window.fbAsyncInit = function() {
        FB.init({
            appId      : '554666954583323',
            xfbml      : true,
            version    : 'v2.8'
        });
        FB.AppEvents.logPageView();
    };

    (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
</script>

    <script type="text/javascript">
        $(document).ready(function () {
    (function () {
        jQuery.expr[':'].containsCI = function(elem, index, match) {
            return !match || !match.length || match.length < 4 || !match[3] || (
                    elem.textContent || elem.innerText || jQuery(elem).text() || ''
            ).toLowerCase().indexOf(match[3].toLowerCase()) >= 0;
        }
    }(jQuery));

    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.getCodeforcesServerTime = function(callback) {
        $.post("/data/time", {}, callback, "json");
    }

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }});

    window.updateTypography();

    Codeforces.signForms();

    setTimeout(function() {
        $(".second-level-menu-list").lavaLamp({
            fx: "backout",
            speed: 1000
        });
    }, 0);


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();


    function showAnnouncements(json) {
        //info("j=" + JSON.stringify(json));

        if (json.t != "a") {
            return;
        }
        // console.log("Got announcement from channel");
        setTimeout(function() {
            Codeforces.showAnnouncements(json.d, "en");
        }, Math.random() * 500);
    }
    if (Codeforces.getParticipantChannel()) {
        Codeforces.subscribe(Codeforces.getParticipantChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    if (Codeforces.getContestChannel()) {
        Codeforces.subscribe(Codeforces.getContestChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    if (Codeforces.getGlobalChannel()) {
        Codeforces.subscribe(Codeforces.getGlobalChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    if (Codeforces.getUserChannel()) {
        Codeforces.subscribe(Codeforces.getUserChannel(), function(json) {
            showAnnouncements(json);
        });
    }

    $(".clickable-title").click(function() {
        Codeforces.alert($(this).attr("title"));
    }).css("position", "relative").css("bottom", "3px");


    Codeforces.reformatTimes();
    Codeforces.initializePubSub();

    Codeforces.setupSpoilers();
    Codeforces.setupTutorials("/data/problemTutorial");
        });
    </script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-743380-5']);
  _gaq.push(['_trackPageview']);

  (function () {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = (document.location.protocol == 'https:' ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<div id="body">
        

<div class="side-bell" style="visibility: hidden; display: none; opacity: 0.7; width: 40px; position: fixed; right: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: #d3dbe4; font-weight: bold; font-size: 1.5rem;">
    <span class="icon-stack" style="width: 100%;">
        <i class="icon-circle icon-stack-base"></i>
        <i class="icon-bell-alt icon-light"></i>
    </span>
    <br/>
    <span class="side-bell__count" style="position: relative; top: -10px;"></span>
</div>


<div id="header" style="position: relative;">
    <div style="float:left;">
            <div style="padding:0.5em 0 0 2px;color:#00a651;">
<a href="http://www.russiancodecup.ru/"><img style="position:relative; bottom:12px;" src="http://assets.codeforces.com/images/rcc15-logo.jpg"/></a>
</div>

    </div>
    <div class="lang-chooser">
        <div style="text-align: right;">
            <a href="?locale=en"><img src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" title="In English" alt="In English"/></a>
            <a href="?locale=ru"><img src="http://st.codeforces.com/s/71216/images/flags/24/ru.png" title="По-русски" alt="По-русски"/></a>
        </div>

        <div >
                        <a href="/enter?back=%2Frcc2017">Enter</a>
                     | 
                        <a href="/register">Register</a>
                    
        </div>



    </div>
    <br style="clear: both;"/>
</div>
        

    <div class="roundbox menu-box" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
    <div class="menu-list-container">
    <ul class="menu-list main-menu-list">
                <li class=""><a href="/">Home</a></li>
                <li class=""><a href="/contests">Contests</a></li>
                <li class=""><a href="/gyms">Gym</a></li>
                <li class=""><a href="/problemset">Problemset</a></li>
                <li class=""><a href="/groups">Groups</a></li>
                <li class=""><a href="/ratings">Rating</a></li>
                <li class=""><a href="/api/help">API</a></li>
                <li class="current"><a href="/rcc2017">RCC <img class="icon" src="http://st.codeforces.com/images/icons/cup.png"/></a></li>
                <li class=""><a href="/aimtech2017">AIM Tech Round <img class="icon" src="http://st.codeforces.com/images/icons/cup.png"/></a></li>
                <li class=""><a href="/calendar">Calendar</a></li>
    </ul>
        <form method="post" action="/search"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
            <input class="search" name="query" data-isPlaceholder="true" value=""/>
        </form>
    <br style="clear: both;"/>
</div>

    </div>

    <script type="text/javascript">
        $(document).ready(function () {
            $("input.search").focus(function () {
                if ($(this).attr("data-isPlaceholder") === "true") {
                    $(this).val("");
                    $(this).removeAttr("data-isPlaceholder");
                }
            });
        });
    </script>
            <br style="height: 3em; clear: both;"/>

        <div style="position: relative;">
                        <div id="sidebar">

    <div class="roundbox sidebox sidebar-menu" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
        <div class="caption titled">&rarr; Go to
            <div class="top-links">
            </div>
        </div>
    <ul>
        <li  class="active"><a href="/rcc2017">Section main page</a></li>
    </ul>
    <ul>
            <li>
                    <a href="/blog/entry/51001">Announcement</a>
            </li>
            <li>
                    <a href="/blog/entry/51089">Editorial for Warmup Round</a>
            </li>
            <li>
                    <a href="/blog/entry/51341">First Qualification Announcement</a>
            </li>
            <li>
                    <a href="/blog/entry/51390">First Qualification Editorial</a>
            </li>
            <li>
                    <a href="/blog/entry/51563">Second Qualification Announcement</a>
            </li>
            <li>
                    <a href="/blog/entry/51591">Second Qualification Editorial</a>
            </li>
            <li>
                    <a href="/blog/entry/51761">Third Qualification Announcement</a>
            </li>
            <li>
                    <a href="/blog/entry/51773">Third Qualification Editorial</a>
            </li>
            <li>
                    <a href="/blog/entry/51963">Russian Code Cup 2017 - Elimination Round</a>
            </li>
            <li>
                    <a href="/blog/entry/51984">Elimination Round Editorial</a>
            </li>
            <li>
                    <a href="/blog/entry/54452">Final Round - Wrap up and Editorial</a>
            </li>
            <li>
                    <a href="http://www.russiancodecup.ru/en/">Official website</a>
            </li>
    </ul>
    </div>


    <div class="roundbox sidebox" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
        <div class="caption titled">&rarr; Оrganized by
            <div class="top-links">
            </div>
        </div>
<div style="margin: 1em;text-align: center;">
        <a title="Mail.Ru Group" href="http://corp.mail.ru/en/"><img src="http://assets.codeforces.com/images/mail-logo.png"/></a>
</div>

<div style="margin: 2em 1em 1em 1em;text-align: center;">
        <a title="ITMO" href="http://en.ifmo.ru/en/"><img src="http://assets.codeforces.com/images/rcc/itmo_small_white_rus.png" style="width: 250px;"/></a>
</div>
    </div>
<div class="roundbox sidebox" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
        <div class="caption titled">&rarr; Recent actions
            <div class="top-links">
            </div>
        </div>
        <div class="recent-actions">
            <ul>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/54425">RCC 2017 — Finals + CF Round</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/54452">Russian Code Cup 2017 Finals — Results and Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/andrewzta" title="Grandmaster andrewzta" class="rated-user user-red">andrewzta</a>        &rarr;
        <a href="/blog/entry/52023">Russian Code Cup — Eliminataion Round, Some News</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51963">Russian Code Cup 2017 — Elimination Round</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51984">Russian Code Cup 2017 Elimination Round — Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51761">Russian Code Cup 2017 — Third Qualification Round</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51773">Russian Code Cup 2017 — Third Qualification Round Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51591">Russian Code Cup Qual 2 — Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51001">Russian Code Cup 2017 — Announcement</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51563">Russian Code Cup 2017 — Second Qualification Round</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51341">Russian Code Cup 2017 — First Qualification Round</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51390">Russian Code Cup Qual 1 — Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>        &rarr;
        <a href="/blog/entry/51089">Russian Code Cup 2017 Warmup — Problems (and testing queue length) analysis</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="http://st.codeforces.com/s/71216/images/icons/comment-12x12.png" style="vertical-align:middle;"/>
</div>
</li>
            </ul>
        </div>
            <div class="bottom-links">
                <table style="width:100%;">
                    <tbody>
                        <tr>
                            <td style="text-align:left;">
                            </td>
                            <td style="text-align:right;">
                                    <a href="        /rcc2017/recent-actions
">Detailed &rarr;</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
    </div></div>
                        <div id="pageContent" class="content-with-sidebar">

<div style="margin-bottom:2em;">


<div class="topic" topicId="54694">
    <div class="title">
            <a href="/blog/entry/54425">            <p>RCC 2017 — Finals + CF Round</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
            <span class="format-humantime" title="Sep/09/2017 11:09">3 days ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-54425-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-54425-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-54425-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-54425-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-54425-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-54425-blogId-error blogEntry-54425-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-54425-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-54425-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-54425-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-54425-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-54425-contestId-error blogEntry-54425-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-54425-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-54425-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-54425-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-54425-resourceType-error blogEntry-54425-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-54425-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-54425-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-54425-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-54425-error").hide();

        $(".attach-blogEntry-54425-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-54425-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-54425-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-54425-error").hide();
                    $("#facebox #blogEntry-54425-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-54425-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-54425-contestId").val(),
                        blogEntryId:"54425",
                        resourceType:$("#facebox #blogEntry-54425-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-54425-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-54425-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-54425-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-54425-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-54425-contestId");
            var popupContestSelect = $("#facebox #blogEntry-54425-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-54425-contestId-loading-indicator").hide();
                        $("#blogEntry-54425-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-54425-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-54425-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><p>Hi, everyone!</p><p><a href="https://www.timeanddate.com/worldclock/fixedtime.html?msg=RCC+2017+Finals&amp;iso=20170910T13&amp;p1=166&amp;ah=3">On September 10, 2017 at 13:00 Moscow time</a> the final round of Russian Code Cup 2017 will take place! The round will be 3 hours long. 55 participants of the final round will compete for prizes and glory, and we are eager to watch their competition at <a href="http://russiancodecup.ru">http://russiancodecup.ru</a>.</p><p>And we have a nice surprise for the others: if you would like to apply your skills at our finals problems, come to codeforces.com after the Finals is over, <a href="https://www.timeanddate.com/worldclock/fixedtime.html?msg=RCC+2017+Finals+CF+Round&amp;iso=20170910T1635&amp;p1=166&amp;ah=3">at 16:35 Moscow time</a>, the round featuring RCC Finals 2017 problems will take place, open for everybody.</p><p>Some notes:</p> <ul>   <li>Round will use ACM rules;</li>   <li>It will be unrated;</li>   <li>Problem difficulty will be close to Div 1 round;</li>   <li>We ask RCC finalists not to publish or discuss problems after the end of the Finals before the CF round ends, of course you shouldn't participate in CF round;</li>   <li>Judging machines at RCC and CF are different, &quot;my solution passed/failed at CF, and it was different at RCC&quot; is not a valid appeal.</li> </ul><p><strong>UPD</strong> The official contest is over, congratulations to the winners! And good luck to CF Round participants.</p><p><strong>UPD2</strong> <a href="http://codeforces.com/blog/entry/54452">Editorial</a></p></div><p><a href="/blog/entry/54425">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-54694"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-54694">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+108</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-54694"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-54694">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/54425"
             data-yashareTitle="Codeforces: RCC 2017 — Finals + CF Round"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Sep/09/2017 11:09">3 days ago</span>
        
</li>
                    <li>        <a href="/blog/entry/54425#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/54425#comments">
        65
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-54694").click(function () {
        $.post("/data/topic/vote", {topicId: 54694, _tta: Codeforces.tta(), topicRevisionId: 126183, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-54694").click(function () {
        $.post("/data/topic/vote", {topicId: 54694, _tta: Codeforces.tta(), topicRevisionId: 126183, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="52279">
    <div class="title">
            <a href="/blog/entry/52023">            <p>Russian Code Cup — Eliminataion Round, Some News</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/andrewzta" title="Grandmaster andrewzta" class="rated-user user-red">andrewzta</a>,
                <a href="/topic/52279/en1">history</a>,
            <span class="format-humantime" title="May/16/2017 17:22">4 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-52023-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-52023-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-52023-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-52023-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-52023-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-52023-blogId-error blogEntry-52023-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-52023-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-52023-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-52023-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-52023-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-52023-contestId-error blogEntry-52023-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-52023-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-52023-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-52023-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-52023-resourceType-error blogEntry-52023-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-52023-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-52023-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-52023-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-52023-error").hide();

        $(".attach-blogEntry-52023-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-52023-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-52023-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-52023-error").hide();
                    $("#facebox #blogEntry-52023-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-52023-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"4653", contestId:$("#facebox #blogEntry-52023-contestId").val(),
                        blogEntryId:"52023",
                        resourceType:$("#facebox #blogEntry-52023-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-52023-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-52023-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-52023-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-52023-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-52023-contestId");
            var popupContestSelect = $("#facebox #blogEntry-52023-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-52023-contestId-loading-indicator").hide();
                        $("#blogEntry-52023-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-52023-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-52023-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><p>Hi all!</p><p>During Elimination Round of Russian Code Cup 2017 we had a technical issue that caused almost all problem A solutions sent for evaluation from 5-th to 10-th minute of the contest be accepted.</p><p>We found that issue when it was already too late, so it wouldn't be fair to rejudge the solutions. However, we understand that this issue created unfair circumstances for other contestants, that could lose to those lucky ones that submitted in the described time frame.</p><p>We have rejudged all solutions after the round, and tried to simulate how could the contest proceed should they have been judged correctly. Of course, any simulation of this kind cannot be accurate, and there is no completely fair resolution. We have decided to do the following:</p><p>1) Increase the number of Final Round participants to 55. It gives partial compensation to those participants who could have qualified but failed to do so because of someone's incorrectly small penalty.</p><p>2) Increase number of t-shirts to 205. So all participants who have at least 3 accepted problems get our branded t-shirt.</p><p>Judges and the technical group of Russian Code Cup are sorry about the issue. We will do our best to avoid anything like that in future.</p><p>Good luck to all finalists in the Final Round that will take place in September 2017!</p></div><p><a href="/blog/entry/52023">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-52279"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-52279">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+196</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-52279"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-52279">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/52023"
             data-yashareTitle="Codeforces: Russian Code Cup — Eliminataion Round, Some News"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/andrewzta"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/andrewzta">
        andrewzta
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="May/16/2017 17:22">4 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/52023#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/52023#comments">
        1
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-52279").click(function () {
        $.post("/data/topic/vote", {topicId: 52279, _tta: Codeforces.tta(), topicRevisionId: 119687, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-52279").click(function () {
        $.post("/data/topic/vote", {topicId: 52279, _tta: Codeforces.tta(), topicRevisionId: 119687, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="52240">
    <div class="title">
            <a href="/blog/entry/51984">            <p>Russian Code Cup 2017 Elimination Round — Editorial</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
                <a href="/topic/52240/en2">history</a>,
            <span class="format-humantime" title="May/14/2017 15:06">4 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51984-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51984-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51984-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51984-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51984-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51984-blogId-error blogEntry-51984-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51984-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51984-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51984-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51984-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51984-contestId-error blogEntry-51984-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51984-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51984-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51984-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51984-resourceType-error blogEntry-51984-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51984-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51984-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51984-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51984-error").hide();

        $(".attach-blogEntry-51984-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51984-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51984-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51984-error").hide();
                    $("#facebox #blogEntry-51984-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51984-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51984-contestId").val(),
                        blogEntryId:"51984",
                        resourceType:$("#facebox #blogEntry-51984-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51984-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51984-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51984-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51984-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51984-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51984-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51984-contestId-loading-indicator").hide();
                        $("#blogEntry-51984-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51984-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51984-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><h2>A. Small Numbers</h2><p>First of all, find prime factorization of numbers <i>a</i> and <i>b</i>.</p><p>After that you need to notice that if <i>ab</i> is divisible by <i>p</i><sup>2</sup>, (where <i>p</i> is a prime number), it is either possible to divide both <i>a</i> and <i>b</i> by <i>p</i> instantly, or you will need to perform one of the latter two operations first to move one of <i>p</i> factors to the other number, and then divide both by <i>p</i>.</p><p>Obviously, parity of occurrence of prime numbers in the multiple <i>ab</i> remains unchanged in all operations. Therefore we can either remove <i>p</i> factor completely from <i>ab</i> or leave it occurring only once. After removing all primes, lets say the ones left are <i>p</i><sub>1</sub>, <i>p</i><sub>2</sub>, ..., <i>p</i><sub><i>n</i></sub>. Let us call multiple of all these numbers <i>d</i>. Important observation is that <i>n</i> can't exceed 14 because multiple of first 15 prime numbers is more than 10<sup>18</sup>, which means it can't be a product of two numbers <i>a</i>, <i>b</i> ≤ 10<sup>9</sup>. Now we simply need to iterate over all possible pairs and chose one with minimum sum that we can obtain from <i>d</i>. This can be done in <i>O</i>(2<sup><i>n</i></sup>) which fits the time limit.</p><h2>B. New Keyboard</h2> <p>Let us use dynamic programming. The state is d[i][j][k], where <i>i</i> — is the flag that denotes the previous action (0 for layout switch, and 1 for typing character), <i>j</i> is the number of the current layout, and <i>k</i> is the number of characters typed so far. The value is the minimal time to reach the state.</p><p>Now iterate over <i>k</i>. For a given <i>k</i> first iterate <i>j</i> from 1 to <i>n</i> twice. Both times relax d[0][j % n + 1][k] = min(d[0][j % n + 1][k], min(d[0][j][k] + b, d[1][j][k] + a)). Two iterations of <i>j</i> from 1 to <i>n</i> are needed to ensure that if the layout switches from <i>n</i> to 1 it is processed correctly.</p><p>Now iterate <i>j</i> from 1 to <i>n</i> again and relax values for <i>k</i> + 1. If there is the <i>k</i>-th character of the message in the <i>j</i>-th layout, update d[1][j][k + 1] = min(d[0][j][k], d[1][j][k]) + c.</p><p>The answer is min(d[1][j][m]), where <i>m</i> = <i>length</i>(<i>s</i>), for all <i>j</i> from 1 to <i>n</i>.</p><h2>C. Folding the Figure</h2> <p>Note that there are exactly 4 possible folding lines: two horizontal and two vertical, because the figure must be at one side of the folding line, and must touch it.</p><p>Take any square of the folded figure with the minimal <i>x</i>-coordinate. Let it be the cell (<i>x</i><sub><i>i</i></sub>, <i>y</i><sub><i>i</i></sub>). Take line <i>x</i> = <i>x</i><sub><i>i</i></sub> as the folding line. Now we need to find <i>k</i> - <i>n</i> squares of the original figure on the other side of the folding line. So let us find <i>k</i> - <i>n</i> connected squares of the folded figure containing the square (<i>x</i><sub><i>i</i></sub>, <i>y</i><sub><i>i</i></sub>), for example, using DFS.</p><h2>D. Acute Triangles</h2> <p>To count the number of acute triangles let us count the total number of triangles and subtract the number of right and obtuse triangles. For the purpose of this problem let us consider three points on a line to be a degenerate obtuse triangle.</p><p>The total number of triangles is equal to the number of ways to choose 3 points of <i>n</i>.</p><p>Now note the fact: each right or obtuse triangle has exactly one right or obtuse angle. So the number of bad triangles is equal to the number of bad angles.</p><p>Now let us count the number of angles not less than 90 degrees with vertices in the given points. Consider the angle vertex and sort other points by their polar angle relative to the chosen point. Now use two pointers: consider the first of the other two points, the matching third points form a continuous segment along the circle, and its ends move in the same direction.</p><p>Time complexity is <i>O</i>(<i>n</i><sup>2</sup><i>log</i>(<i>n</i>)).</p><h2>E. Joining Arrays</h2> <p>Let us consider two solutions for the problem, that take <i>O</i>(<i>k</i><sup>2</sup>·<i>log</i>(<i>k</i>)) and <i>O</i>(<i>k</i><sup>2</sup>) respectively. The first one brings up core ideas, while the second one being more elusive has simpler implementation.</p><p><i>O</i>(<i>k</i><sup>2</sup>·<i>log</i>(<i>k</i>)) solution:</p><p>Consider three main steps of the solution </p><ol> <li> For each array <i>X</i> (<i>A</i> or <i>B</i>) and each length 1 ≤ <i>length</i> ≤ |<i>X</i>| find <i>minSubsequence</i><sub><i>X</i></sub>[<i>length</i>] — lexicographically smallest subsequence of <i>X</i> that has the given length; </li><li> Iterate over <i>t</i> such that 1 ≤ <i>t</i> ≤ <i>min</i>(<i>k</i> - 1, |<i>A</i>|) and 1 ≤ <i>k</i> - <i>t</i> ≤ |<i>B</i>|, take <i>minSubsequence</i><sub><i>A</i></sub>[<i>t</i>] and <i>minSubsequence</i><sub><i>B</i></sub>[<i>k</i> - <i>t</i>], join them; </li><li> Joining the given sequences, get the optimal sequence of length <i>k</i>, update the answer with that sequence. </li></ol><p>1) To find <i>minSubsequence</i><sub><i>X</i></sub>[<i>length</i>] for each <i>length</i>, let us do the following: </p><ul> <li> Calculate <i>next</i>[<i>i</i>][<i>c</i>] that will store the next occurence of value <i>c</i> after <i>i</i> in <i>X</i>; </li><li> Calculate <i>firstSymbol</i>[<i>length</i>][<i>i</i>] — the first character of lexicographically smallest subsequence of <i>X</i>[<i>i</i>..|<i>X</i>| - 1] that has given <i>length</i>. To calculate it note the following: <ul> <li> If <i>j</i><sub>1</sub> = <i>next</i>[<i>i</i>][1], and it exists, then <i>firstSymbol</i>[1][<i>i</i>], <i>firstSymbol</i>[2][<i>i</i>], ... <i>firstSymbol</i>[|<i>X</i>| - <i>j</i><sub>1</sub>][<i>i</i>] are equal to 1; </li><li> If, if <i>j</i><sub>2</sub> = <i>next</i>[<i>i</i>][2], and it exists, then <i>firstSymbol</i>[|<i>X</i>| - <i>j</i><sub>1</sub> + 1][<i>i</i>], ..., <i>firstSymbol</i>[|<i>X</i>| - <i>j</i><sub>2</sub>][<i>i</i>] are equal to 2; </li><li> ... </li><li> If <i>j</i><sub>3000</sub> = <i>next</i>[<i>i</i>][3000], and it exists, then <i>firstSymbol</i>[<i>max</i>(|<i>X</i>| - <i>j</i><sub>1</sub>, |<i>X</i>| - <i>j</i><sub>2</sub>, ..., |<i>X</i>| - <i>j</i><sub>3000 - 1</sub>) + 1][<i>i</i>], ..., <i>firstSymbol</i>[|<i>X</i>| - <i>j</i><sub>|<i>alphabet</i>|</sub>][<i>i</i>] are equal to 3000. </li></ul> </li><li> After that we can use <i>firstSymbol</i>[<i>length</i>][<i>i</i>] to restore lexicographically smallest subsequence of each array, one by one. </li></ul><p>This step takes <i>O</i>(|<i>X</i>|<sup>2</sup>).</p><p>3) Given two lexicographically minimal subsequences <i>S</i><sub><i>A</i></sub> and <i>S</i><sub><i>B</i></sub>, now we need to join them to lexicographically smallest sequence. Let us use two pointers <i>p</i><sub>1</sub> and <i>p</i><sub>2</sub>. If <i>S</i><sub><i>A</i><sub><i>p</i><sub>1</sub></sub></sub> ≠ <i>S</i><sub><i>B</i><sub><i>p</i><sub>2</sub></sub></sub>, we move the smaller pointer, appending the value it points at to the answer. If <i>S</i><sub><i>A</i><sub><i>p</i><sub>1</sub></sub></sub> = <i>S</i><sub><i>B</i><sub><i>p</i><sub>2</sub></sub></sub>, use binary search to find the longest common prefix of <i>S</i><sub><i>A</i></sub>[<i>p</i><sub>1</sub>..|<i>S</i><sub><i>A</i></sub>|] and <i>S</i><sub><i>B</i></sub>[<i>p</i><sub>2</sub>..|<i>S</i><sub><i>B</i></sub>|], and compare the following elements. Use hashes to compare subarrays of <i>S</i><sub><i>A</i></sub> and <i>S</i><sub><i>B</i></sub>.</p><p>This step takes <i>O</i>((|<i>S</i><sub><i>A</i></sub>| + |<i>S</i><sub><i>B</i></sub>|)·<i>log</i>(<i>max</i>(|<i>S</i><sub><i>A</i></sub>|, |<i>S</i><sub><i>B</i></sub>|))) = <i>O</i>(<i>k</i>·<i>log</i>(<i>k</i>)).</p><p>So the total time complexity is <i>O</i>(|<i>A</i>|<sup>2</sup> + |<i>B</i>|<sup>2</sup> + <i>k</i><sup>2</sup>·<i>log</i>(<i>k</i>)) = <i>O</i>(<i>k</i><sup>2</sup>·<i>log</i>(<i>k</i>)).</p><p><i>O</i>(<i>k</i><sup>2</sup>) solution:</p><p>Let us index arrays, let array <i>A</i> have number 0, and array <i>B</i> have number 1. Let us build the answer one element after another, and maintain the values <i>dp</i>[<i>i</i>][<i>j</i>], where <i>i</i> is the number of the array (0 or 1), <i>j</i> is the index in this array, <i>dp</i>[<i>i</i>][<i>j</i>] is the minimal index in array 1 - <i>i</i>, that can be appended to the answer, if we are at index <i>j</i> in array <i>i</i>.</p><p>At the <i>t</i>-th of the <i>k</i> iterations we find the minimum element that can be appended to the answer, and still the answer can be completed by adding another <i>k</i> - <i>t</i> - 1 elements. Also we must note that both subsequences from the two arrays must be non-empty.</p><p>After adding the element <i>v</i>, update the <i>dp</i> values in <i>O</i>(|<i>A</i>| + |<i>B</i>|). To do it, use <i>next</i> array, the same as in previous solution.</p><h2>F. Two Trees</h2> <p>There is a requirement that <i>k</i>-subtree must have a vertex at depth <i>k</i>. Let us temporarily remove this limitation.</p><p>Consider all <i>k</i>-subtrees for some value of <i>k</i>. They can be divided to equivalence classes. Let each vertex <i>v</i> have <i>c</i><sub><i>k</i></sub>[<i>v</i>] — the label of its equivalence class that its <i>k</i>-subtree belongs to.</p><p>If <i>k</i> = 0 all <i>c</i><sub>0</sub>[<i>v</i>] are the same, because 0-subtree of any vertex is this vertex by itself.</p><p>If <i>k</i> = 1 then <i>c</i><sub>1</sub>[<i>v</i>] is the number of children of <i>v</i> .</p><p>Now let us see how we can convert arrays <i>c</i><sub><i>k</i></sub>[<i>v</i>] and <i>c</i><sub><i>m</i></sub>[<i>v</i>] to an array <i>c</i><sub><i>k</i> + <i>m</i></sub>[<i>v</i>]. First let us assign the array <i>arr</i><sub><i>k</i> + <i>m</i></sub>[<i>v</i>] to each vertex <i>v</i>, that will uniquely identify its <i>k</i>-subtree. Let <i>u</i><sub>1</sub>, ..., <i>u</i><sub><i>s</i></sub> be its descendants of level <i>k</i> in DFS order. Then <i>arr</i><sub><i>k</i> + <i>m</i></sub>[<i>v</i>] = <i>c</i><sub><i>k</i></sub>[<i>v</i>], <i>c</i><sub><i>m</i></sub>[<i>u</i><sub>1</sub>], ..., <i>c</i><sub><i>m</i></sub>[<i>u</i><sub><i>s</i></sub>]. So its (<i>k</i> + <i>m</i>)-subtree is identified by its <i>k</i>-subtree and <i>m</i>-subtrees from the bottom vertices of its <i>k</i>-subtree. See the picture below for <i>k</i> = 3 and <i>m</i> = 1.</p><center> <img src="/predownloaded/12/68/1268acedf0137ac112235fc245251040c6d2a74a.png" style="max-width: 100.0%;max-height: 100.0%;" /> </center><p>To get the list of descendants at level <i>k</i>, let us run one DFS from the root, when entering the vertex, put it to its <i>k</i> levels ancestor list.</p><p>To transform <i>arr</i><sub><i>k</i> + <i>m</i></sub>[<i>v</i>] to integers <i>c</i><sub><i>k</i> + <i>m</i></sub>[<i>v</i>] we can either use hashing, or trie, or unordered_map. Each vertex is considered only once in each of these arrays, so the total time is <i>O</i>(<i>n</i>).</p><p>Given array <i>c</i><sub><i>k</i></sub>[<i>v</i>] it is easy to check whether there are two equal <i>k</i>-subtrees. To do it you must find two vertices with the same <i>c</i><sub><i>k</i></sub>, considering only vertices that have descendants of level <i>k</i> (now we need to bring back this requirement). </p><p>To find the maximal such <i>k</i>, let us first count <i>c</i><sub>1</sub>[<i>v</i>], <i>c</i><sub>2</sub>[<i>v</i>], ..., <i>c</i><sub>2<sup><i>t</i></sup></sub>[<i>v</i>] (2<sup><i>t</i></sup> is the maximal power of 2 not exceeding <i>n</i>). After that make some kind of binary ascending by <i>k</i>: start with <i>k</i> = 0, and try to add 2<sup><i>t</i></sup>, 2<sup><i>t</i> - 1</sup>, ..., 2<sup>0</sup>, one by one.</p><p>Time complexity: <i>O</i>(<i>nlog</i>(<i>n</i>)).</p></div><p><a href="/blog/entry/51984">Read more »</a></p>
    </div>

    <div style="font-size: 1.1rem;line-height: 1.1rem;padding-bottom: 0.5em;">
    <img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" style="vertical-align: middle;"/> <span style="padding: 0 0.35em;">Tutorial of <a href="/gym/101397" class="notice" style="text-decoration: none;">2017 Russian Code Cup (RCC 17), Elimination Round</a></span>
    </div>


    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-52240"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-52240">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+26</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-52240"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-52240">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51984"
             data-yashareTitle="Codeforces: Russian Code Cup 2017 Elimination Round — Editorial"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="May/14/2017 15:06">4 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51984#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51984#comments">
        4
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-52240").click(function () {
        $.post("/data/topic/vote", {topicId: 52240, _tta: Codeforces.tta(), topicRevisionId: 119551, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-52240").click(function () {
        $.post("/data/topic/vote", {topicId: 52240, _tta: Codeforces.tta(), topicRevisionId: 119551, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="52219">
    <div class="title">
            <a href="/blog/entry/51963">            <p>Russian Code Cup 2017 — Elimination Round</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
                <a href="/topic/52219/en2">history</a>,
            <span class="format-humantime" title="May/13/2017 15:40">4 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51963-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51963-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51963-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51963-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51963-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51963-blogId-error blogEntry-51963-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51963-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51963-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51963-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51963-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51963-contestId-error blogEntry-51963-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51963-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51963-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51963-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51963-resourceType-error blogEntry-51963-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51963-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51963-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51963-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51963-error").hide();

        $(".attach-blogEntry-51963-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51963-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51963-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51963-error").hide();
                    $("#facebox #blogEntry-51963-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51963-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51963-contestId").val(),
                        blogEntryId:"51963",
                        resourceType:$("#facebox #blogEntry-51963-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51963-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51963-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51963-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51963-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51963-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51963-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51963-contestId-loading-indicator").hide();
                        $("#blogEntry-51963-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51963-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51963-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><p>Ready, steady, go!</p><p>It's time to find out who the top 50 participants to compete in the Final Round of Russian Code Cup 2017 are. We invite everyone qualified to take part in the Elimination Round <a href="https://www.timeanddate.com/worldclock/fixedtime.html?msg=Russian+Code+Cup+2017+Elimination+Round&amp;iso=20170514T13&amp;p1=166&amp;ah=2">this Sunday, May 14, 2017 at 13-00 Moscow Time</a>. Round length is 2 hours. We invite you to <a href="http://russiancodecup.ru">russiancodecup.ru</a>, and wish you good luck!</p></div><p><a href="/blog/entry/51963">Read more »</a></p>
    </div>

    <div style="font-size: 1.1rem;line-height: 1.1rem;padding-bottom: 0.5em;">
    <img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" style="vertical-align: middle;"/> <span style="padding: 0 0.35em;">Announcement of <a href="/gym/101397" class="notice" style="text-decoration: none;">2017 Russian Code Cup (RCC 17), Elimination Round</a></span>
    </div>


    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-52219"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-52219">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+84</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-52219"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-52219">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51963"
             data-yashareTitle="Codeforces: Russian Code Cup 2017 — Elimination Round"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="May/13/2017 15:40">4 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51963#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51963#comments">
        24
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-52219").click(function () {
        $.post("/data/topic/vote", {topicId: 52219, _tta: Codeforces.tta(), topicRevisionId: 119536, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-52219").click(function () {
        $.post("/data/topic/vote", {topicId: 52219, _tta: Codeforces.tta(), topicRevisionId: 119536, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="52029">
    <div class="title">
            <a href="/blog/entry/51773">            <p>Russian Code Cup 2017 — Third Qualification Round Editorial</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
                <a href="/topic/52029/en1">history</a>,
            <span class="format-humantime" title="Apr/29/2017 16:06">4 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51773-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51773-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51773-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51773-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51773-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51773-blogId-error blogEntry-51773-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51773-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51773-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51773-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51773-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51773-contestId-error blogEntry-51773-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51773-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51773-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51773-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51773-resourceType-error blogEntry-51773-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51773-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51773-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51773-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51773-error").hide();

        $(".attach-blogEntry-51773-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51773-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51773-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51773-error").hide();
                    $("#facebox #blogEntry-51773-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51773-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51773-contestId").val(),
                        blogEntryId:"51773",
                        resourceType:$("#facebox #blogEntry-51773-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51773-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51773-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51773-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51773-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51773-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51773-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51773-contestId-loading-indicator").hide();
                        $("#blogEntry-51773-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51773-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51773-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><h2>A. Spreadsheets</h2><p>Let us subtract 1 from <i>k</i>, now the columns are numbered from 0.</p><p>Let us first find out how many characters are there in the name of the column. To do it let us subtract powers of 26 from <i>k</i>, one by one, until the current power is greater than the remaining number <i>k</i>'.</p><p>Now the name of the column is <i>k</i>' in 26-based notation where characters A–Z are used as digits, prepended with leading A-s to the required length. You can either convert it using standard library function (in this case you must replace digits 0–9, A–P that will be used by the required digits), or implement a textbook algorithm of conversion to another base.</p><p>Final note: a day before the round one of the testers pointed out that CF Beta 1 Round problem B was similar to this one. After a discussion, taking into account that CF1 round was long ago, the problem is actually easier than CF1B problem, and we had no well prepared and easy enough replacement problem, we decided to keep the problem.</p><h2>B. Mortal Combat</h2> <p>Let us count how many hit points the boss loses if attacked by the <i>i</i>-th hero: <i>p</i><sub><i>i</i></sub> = <i>a</i><sub><i>i</i></sub>·⌈ <i>h</i><sub><i>i</i></sub> / <i>A</i>⌉. Sort heroes by non-increasing of <i>p</i><sub><i>i</i></sub> and send them to attack the boss in this order.</p><h2>C. A Bit Palindromic Numbers</h2> <p>Let us find out how to count a bit palindromic numbers among the first <i>n</i> positive integers. Now to solve the problem for the range from <i>l</i> to <i>r</i> we count the number of a bit palindromic numbers among first <i>r</i>, among the first <i>l</i> - 1, and subtract the latter from the former.</p><p>All numbers from 1 to 9 are a bit palindromic, so if <i>n</i> ≤ 9 the answer is <i>n</i>. Otherwise let us add 9 to the answer and count a bit palindromic numbers from 10 to <i>n</i>. Let us consider ten integers from 10<i>k</i> to 10<i>k</i> + 9, where <i>k</i> ≠ 0. Only one of them is a bit palindromic, the one that has the same first digit as <i>k</i>. So there is one a bit palindromic number from 10 to 19, one from 20 to 29, and so on.</p><p>Let <i>n</i> = 10<i>k</i> + <i>d</i>, where 0 ≤ <i>d</i> ≤ 9. So if <i>d</i> is greater or equal to the first digit of <i>k</i>, there are <i>k</i> a bit palindromic numbers from 10 to <i>n</i>, if it is less then the first digit of <i>k</i>, there are <i>k</i> - 1 such numbers.</p><h2>D. Tree and Polynomials</h2> <p>Let us walk through the key ideas of the solution.</p><p>First, notice that6 you can solve problem independently for the two types of the queries. That is because operations don't depend on the values in the vertices.</p><p>Second idea is the following. Instead of storing particular values in the vertices, let us store polynomial that must be evaluated from it depth to get the value.</p><p>We cannot process queries directly, considering all vertices affected by a query, and adding the query polynomial to the polynomial in the vertex: that would take <i>O</i>(<i>n</i><sup>2</sup>·<i>k</i>) which is too slow. Let us use lazy propagation then.</p><p>For the queries of the first type we need to add a polynomial <i>q</i>(<i>t</i>) to each vertex in a subtree of <i>v</i>. Let us just store information about that: for each vertex <i>v</i> let us store <i>push</i>1[<i>v</i>] that has the sum of all polynomials that affected the vertex <i>v</i> in queries of the first type.</p><p>Simultaneously let us store the sum of all affecting queries of the second type as a polynomial <i>push</i>2[<i>v</i>] for each vertex <i>v</i>. </p><p>Now denote as <i>sum</i>1[<i>u</i>] the sum of all polynomials that affect vertex <i>u</i> in queries of the first type.</p><p>To calculate <i>sum</i>1[<i>u</i>] let us run DFS from the root, and keep track of a polynomial <i>cur</i>. Entering the vertex <i>v</i> add <i>push</i>1[<i>v</i>] to <i>cur</i>, leaving <i>v</i> subtract it back. When we have entered the vertex <i>u</i>, assign <i>sum</i>1[<i>u</i>] = <i>cur</i>.</p><p>Similarly, denote as <i>sum</i>2[<i>u</i>] the sum of all polynomials that affect the vertex <i>u</i> in queries of the second type.</p><p>To calculate <i>sum</i>2[<i>u</i>] also use DFS, sum2[u] is equal to the sum of values <i>sum</i>2[<i>v</i>] for all children of <i>u</i>, and the value <i>push</i>2[<i>u</i>].</p><p>After we have calculated polynomials <i>sum</i>1[<i>u</i>] and <i>sum</i>2[<i>u</i>] for each vertex, evaluate them on <i>d</i>[<i>u</i>] and add the results, that is the answer for that vertex.</p><p>Time and memory are both <i>O</i>(<i>nk</i>).</p><h2>E. Nice Report</h2> <p>Let's solve one additional problem before proceeding to the main one. You are given a sequence (<i>a</i><sub>1</sub>, <i>a</i><sub>2</sub>, ..., <i>a</i><sub><i>n</i></sub>) of some objects and somebody asks you to find out how many different objects are presented in this sequence. However, some restrictions apply to the ways you are allowed to process given data:</p><ol> <li> once the object <i>a</i><sub><i>i</i></sub> is read, it's lost forever: the next read will return <i>a</i><sub><i>i</i> + 1</sub> and there is no way to obtain <i>a</i><sub><i>i</i></sub> again; </li><li> you can only use <i>O</i>(1) additional memory </li></ol><p>To solve this subproblem we will use the fact that expected value of minimum of <i>m</i> value uniformly distributed over segment [0;1] is 1 / (<i>m</i> + 1). </p><p>Consider a hash function <i>h</i>: <i>A</i> → [0;1] which transforms objects <i>a</i><sub><i>i</i></sub> to some number from [0;1]. Define <i>M</i> as <i>M</i> = <i>min</i> {<i>h</i>(<i>a</i><sub>1</sub>), <i>h</i>(<i>a</i><sub>2</sub>), ..., <i>h</i>(<i>a</i><sub><i>n</i></sub>)}. This value can be transformed to the problem solution as 1 / <i>M</i> - 1. However, we could run out of luck and end up in the situation where some <i>h</i>(<i>a</i><sub><i>i</i></sub>) is too small and spoils the answer too much. To deal with it, we can average the answer over several runs with different hash functions <i>h</i><sub>1</sub>, <i>h</i><sub>2</sub>, ..., <i>h</i><sub><i>k</i></sub> for some fixed <i>k</i>.</p><p>First, let's solve the case of acyclic graph. Any acyclic graph has topological sort: vertices order that respects edge directions: only edges from latter vertices to earlier ones exist. Let's label each vertex with some random number uniformly distributed over [0;1]. Topological sort existence allows us to calculate the minimal reachable label <i>M</i><sub><i>i</i></sub> for each vertex by some kind of dynamic programming. After this calculation, we can approximate the number of reachable vertices from <i>i</i> as 1 / <i>M</i><sub><i>i</i></sub> - 1. Again, we need to average results from several iterations to improve answer precision.</p><p>But given graph can contain cycles. To create an acyclic graph we can build the graph condensation by compressing strongly connectivity components. In the condensed graph each vertex <i>i</i> corresponds to <i>w</i><sub><i>i</i></sub> vertices in the original graph. To finally solve the problem we'll change vertex labeling phase a bit: a simple random label becames minimal value from <i>w</i><sub><i>i</i></sub> random value from [0;1] rolls.</p><p>A curious reader can find more information related to this problem by reading an article &quot;Size-Estimation Framework with Applications to Transitive Closure and Reachability&quot; located at <a href="http://cohenwang.com/edith/Papers/tcest.pdf?ccid=56193028c843774483746d25ed6914e9"></a><a>http://cohenwang.com/edith/Papers/tcest.pdf</a>.</p></div><p><a href="/blog/entry/51773">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-52029"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-52029">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+36</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-52029"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-52029">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51773"
             data-yashareTitle="Codeforces: Russian Code Cup 2017 — Third Qualification Round Editorial"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Apr/29/2017 16:06">4 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51773#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51773#comments">
        0
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-52029").click(function () {
        $.post("/data/topic/vote", {topicId: 52029, _tta: Codeforces.tta(), topicRevisionId: 118886, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-52029").click(function () {
        $.post("/data/topic/vote", {topicId: 52029, _tta: Codeforces.tta(), topicRevisionId: 118886, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="52017">
    <div class="title">
            <a href="/blog/entry/51761">            <p>Russian Code Cup 2017 — Third Qualification Round</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
                <a href="/topic/52017/en1">history</a>,
            <span class="format-humantime" title="Apr/28/2017 12:22">5 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51761-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51761-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51761-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51761-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51761-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51761-blogId-error blogEntry-51761-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51761-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51761-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51761-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51761-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51761-contestId-error blogEntry-51761-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51761-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51761-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51761-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51761-resourceType-error blogEntry-51761-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51761-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51761-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51761-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51761-error").hide();

        $(".attach-blogEntry-51761-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51761-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51761-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51761-error").hide();
                    $("#facebox #blogEntry-51761-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51761-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51761-contestId").val(),
                        blogEntryId:"51761",
                        resourceType:$("#facebox #blogEntry-51761-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51761-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51761-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51761-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51761-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51761-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51761-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51761-contestId-loading-indicator").hide();
                        $("#blogEntry-51761-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51761-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51761-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><p>Hi, everyone!</p><p>There are already more than 400 participants who are preparing for the Elimination Round of Russian Code Cup 2017. If you are still among those who has not qualified yet, we invite you to take part in the Third Qualification Round that will take part <a href="https://www.timeanddate.com/worldclock/fixedtime.html?msg=Russian+Code+Cup+2017+Qual+3&amp;iso=20170429T14&amp;p1=166&amp;ah=2">this Saturday, April 29, at 14-00 Moscow Time</a>. Top 200 participants will also qualify to the Elimination Round and will be able to compete to get to the Final Round of Russian Code Cup 2017.</p><p>Good luck and see you at <a href="http://russiancodecup.ru">russiancodecup.ru</a>!</p></div><p><a href="/blog/entry/51761">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-52017"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-52017">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+56</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-52017"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-52017">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51761"
             data-yashareTitle="Codeforces: Russian Code Cup 2017 — Third Qualification Round"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Apr/28/2017 12:22">5 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51761#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51761#comments">
        15
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-52017").click(function () {
        $.post("/data/topic/vote", {topicId: 52017, _tta: Codeforces.tta(), topicRevisionId: 118840, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-52017").click(function () {
        $.post("/data/topic/vote", {topicId: 52017, _tta: Codeforces.tta(), topicRevisionId: 118840, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="51842">
    <div class="title">
            <a href="/blog/entry/51591">            <p>Russian Code Cup Qual 2 — Editorial</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
                <a href="/topic/51842/en1">history</a>,
            <span class="format-humantime" title="Apr/16/2017 14:14">5 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51591-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51591-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51591-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51591-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51591-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51591-blogId-error blogEntry-51591-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51591-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51591-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51591-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51591-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51591-contestId-error blogEntry-51591-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51591-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51591-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51591-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51591-resourceType-error blogEntry-51591-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51591-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51591-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51591-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51591-error").hide();

        $(".attach-blogEntry-51591-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51591-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51591-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51591-error").hide();
                    $("#facebox #blogEntry-51591-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51591-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51591-contestId").val(),
                        blogEntryId:"51591",
                        resourceType:$("#facebox #blogEntry-51591-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51591-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51591-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51591-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51591-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51591-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51591-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51591-contestId-loading-indicator").hide();
                        $("#blogEntry-51591-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51591-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51591-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><h2>A. Very Important Persons</h2><p>There are two main ways to solve the problem.</p><p>The first way is to assign guests to seats by diagonals, starting from the seat (1, 1). You should be careful with considering cases <i>n</i> &lt; <i>m</i> and <i>m</i> &lt; <i>n</i> when implementing traversal. </p><p>The second way is a more common solution which however requires more advanced algorithm. Let us run BFS from (1, 1) and assign seats to guests in order they are popped from the queue, starting from the most important one.</p><h2>B. Least Common Multiple</h2> <p>Let <i>p</i> / <i>q</i> be divisible by both <i>a</i> / <i>b</i> and <i>c</i> / <i>d</i>, all fractions are irreducible. So the numbers (<i>p</i> / <i>q</i>): (<i>a</i> / <i>b</i>) = (<i>p</i>·<i>b</i>) / (<i>q</i>·<i>a</i>) and (<i>p</i> / <i>q</i>): (<i>c</i> / <i>d</i>) = (<i>p</i>·<i>d</i>) / (<i>q</i>·<i>c</i>) are integers.</p><p>Since <i>p</i>·<i>b</i> is divisible by <i>q</i>·<i>a</i>, <i>b</i> and <i>a</i> are relatively prime, then <i>p</i> is divisible by <i>a</i>. <i>p</i> and <i>q</i> are also relatively prime, so <i>b</i> is divisible by <i>q</i>. Similar argument allows to conclude that <i>p</i> is divisible by <i>с</i>, and <i>d</i> is divisible by <i>q</i>.</p><p>Therefore <i>p</i> is divisible by <i>lcm</i>(<i>a</i>, <i>c</i>), <i>q</i> is a divisor of <i>gcd</i>(<i>b</i>, <i>d</i>). The fraction <i>lcm</i>(<i>a</i>, <i>c</i>) / <i>gcd</i>(<i>b</i>, <i>d</i>) is divisible by both <i>a</i> / <i>b</i> and <i>c</i> / <i>d</i>, and is therefore the smallest such fraction. So the answer is <i>lcm</i>(<i>a</i>, <i>c</i>) / <i>gcd</i>(<i>b</i>, <i>d</i>).</p><h2>C. Bad Order</h2> <p>You have to add numbers to the given array to convert it to a permutation that requires maximal number of swaps when being sorted by selection sort.</p><p>First suppose that the permutation is fixed. Let us find the number of swaps that selection sort makes. Consider permutation as a set of cycles. Let us consider a cycle that contains the minimal number that occupies wrong position. Length of this cycle is greater than 1. After we make a swap, it is split to two cycles: of length 1, and 1 shorter than its initial length. Therefore the cycle of length <i>L</i> will be split <i>L</i> - 1 times, so the number of swaps required is <i>n</i> - <i>c</i>, where <i>c</i> is the number of cycles.</p><p>Therefore we must add numbers to the given array in such way that the number of cycles in the resulting permutation was minimal possible. To do it consider the given array as a directed graph, if <i>a</i>[<i>i</i>] = <i>j</i>, add an edge from <i>i</i> to <i>j</i>. The graph is a union of cycles and paths. All cycles in the graph will remain there after we convert the array to a permutation. All paths can be concatenated to a single long cycle (vertices without both incoming and outgoing edges are considered paths of length 0). To do so, order paths arbitrarily, and add an edge from the end of each path to the beginning of the next path. Finally make them a single cycle by adding an edge from the end of the last path to the beginning of the first one.</p><h2>D. Red-Black Tree</h2> <p>First you must notice a subtle hint in the first sentence of the statement. It is easy to prove (or find in any data structures textbook) that red-black tree with <i>n</i> vertices has <i>O</i>(<i>log</i>(<i>n</i>)) black vertices on any path from the root to a leaf. Let us use this fact in our solution.</p><p>Let us call a tree almost red-black if its coloring satisfies all constraints of the red-black tree, except that its root is red.</p><p>We can now use dynamic programming to calculate for each subtree the number of ways to color it to become red-black or almost red-black, and to have the number of black vertices on any path from its root to a leaf equal to <i>h</i>.</p><p>Let us denote the described number of ways as <i>d</i>[<i>v</i>][<i>h</i>][<i>t</i>], here <i>v</i> is the vertex, <i>h</i> is the number of black vertices on any path from <i>v</i> to a leaf in its subtree, <i>t</i> is the type of coloring, <i>t</i> equal to 0 would, for example, mean that the subtree is red-black, and <i>t</i> equal 1 would mean that the subtree is almost red-black.</p><p>Now <i>d</i>[<i>v</i>][<i>h</i>][0] is the product for all <i>u</i> children of <i>v</i> of values (<i>d</i>[<i>u</i>][<i>h</i> - 1][0] + <i>d</i>[<i>u</i>][<i>h</i> - 1][1]). Similarly, <i>d</i>[<i>v</i>][<i>h</i>][1] is the product for all <i>u</i> children of <i>v</i> of values <i>d</i>[<i>u</i>][<i>h</i>][0].</p><p>The answer to the problem is the sum for all <i>h</i> of values <i>d</i>[1][<i>h</i>][0].</p><p>Since <i>h</i> for all valid colorings is limited by <i>C</i> = <i>O</i>(<i>log</i>(<i>n</i>)), we can consider the number of colorings be zero if <i>h</i> &gt; <i>C</i>.</p><p>So we only need <i>O</i>(<i>nlog</i>(<i>n</i>)) states, and <i>O</i>(1) to calculate the result for each state. The time complexity is <i>O</i>(<i>nlog</i>(<i>n</i>)).</p><h2>E. Array Study</h2> <p>Since there are the same constrains to <i>n</i> and <i>q</i>, let us use <i>n</i> instead of <i>max</i>(<i>n</i>, <i>q</i>). Let us make some observations. </p><p>Observation one: the answer to the query is the maximal length of [<i>L</i>, <i>R</i>], such that <i>pref</i><sub><i>L</i> - 1</sub> = <i>pref</i><sub><i>R</i></sub>, where <i>pref</i><sub><i>i</i></sub> = <i>a</i><sub>1</sub> + <i>a</i><sub>2</sub> + ... + <i>a</i><sub><i>i</i></sub> is the prefix sum of the given array. Let us move from the initial array to the array of prefix sums and for a query [<i>l</i>, <i>r</i>] look for the longest subarray of [<i>l</i> - 1, <i>r</i>] such that <i>pref</i><sub><i>L</i></sub> = <i>pref</i><sub><i>R</i></sub>.</p><p>Observation two: <i>pref</i><sub><i>i</i></sub> are quite small ( - <i>n</i> ≤ <i>pref</i><sub><i>i</i></sub> ≤ <i>n</i>).</p><p>Let us make use of queries given offline. Our method will be similar to Mo's algorithm. Split all queries to groups, the <i>i</i>-th group will contain queries [<i>l</i><sub><i>i</i></sub>, <i>r</i><sub><i>i</i></sub>] such that <i>i</i>·<i>K</i> ≤ <i>l</i><sub><i>i</i></sub> &lt; (<i>i</i> + 1)·<i>K</i> (here <i>K</i> is approximately <i>sqrt</i>(<i>n</i>)). In each group sort queries by their right end. Let us solve the problem separately for each group.</p><p>Consider the <i>i</i>-th group, where <i>l</i><sub><i>i</i></sub> is in [<i>L</i><sub><i>i</i></sub>, <i>R</i><sub><i>i</i></sub>]. Let us consider queries by non-decreasing of <i>r</i><sub><i>i</i></sub>, and maintain two arrays: <i>mostLeft</i>[<i>p</i>] and <i>mostRight</i>[<i>p</i>] — the first after <i>R</i><sub><i>i</i></sub> and the last before <i>r</i> occurrence of the prefix sum <i>p</i>. Using these two values, we can find the answer that is subarray of [<i>R</i><sub><i>i</i></sub> + 1, <i>r</i>]. To get the complete answer to [<i>l</i>, <i>r</i>] query, let us calculate the answer with the beginning of the required subarray at [<i>l</i>, <i>min</i>(<i>r</i>, <i>R</i><sub><i>i</i></sub>)] using <i>mostRight</i> array, and take maximum of that value and the optimal subarray for [<i>R</i> + 1, <i>r</i>].</p><p>So it takes <i>O</i>(<i>K</i>·<i>c</i><sub><i>i</i></sub> + <i>n</i>) to answer all queries of one group, here <i>c</i><sub><i>i</i></sub> is the number of queries in that group. Adding up all <i>O</i>(<i>n</i> / <i>K</i>) groups, we get the total time complexity <i>O</i>(<i>sum</i>(<i>i</i> = 1... <i>n</i> / <i>K</i>: <i>K</i>·<i>c</i><sub><i>i</i></sub> + <i>n</i>)) = <i>O</i>(<i>K</i>·<i>sum</i>(<i>c</i><sub><i>i</i></sub>) + <i>n</i><sup>2</sup> / <i>K</i>). Setting <i>K</i> = <i>sqrt</i>(<i>n</i>) we get <i>O</i>(<i>n</i>·<i>sqrt</i>(<i>n</i>)) complexity.</p></div><p><a href="/blog/entry/51591">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-51842"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-51842">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+34</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-51842"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-51842">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51591"
             data-yashareTitle="Codeforces: Russian Code Cup Qual 2 — Editorial"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Apr/16/2017 14:14">5 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51591#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51591#comments">
        0
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-51842").click(function () {
        $.post("/data/topic/vote", {topicId: 51842, _tta: Codeforces.tta(), topicRevisionId: 118194, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-51842").click(function () {
        $.post("/data/topic/vote", {topicId: 51842, _tta: Codeforces.tta(), topicRevisionId: 118194, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="51814">
    <div class="title">
            <a href="/blog/entry/51563">            <p>Russian Code Cup 2017 — Second Qualification Round</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
            <span class="format-humantime" title="Apr/13/2017 20:23">5 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51563-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51563-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51563-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51563-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51563-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51563-blogId-error blogEntry-51563-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51563-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51563-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51563-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51563-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51563-contestId-error blogEntry-51563-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51563-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51563-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51563-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51563-resourceType-error blogEntry-51563-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51563-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51563-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51563-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51563-error").hide();

        $(".attach-blogEntry-51563-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51563-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51563-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51563-error").hide();
                    $("#facebox #blogEntry-51563-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51563-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51563-contestId").val(),
                        blogEntryId:"51563",
                        resourceType:$("#facebox #blogEntry-51563-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51563-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51563-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51563-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51563-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51563-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51563-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51563-contestId-loading-indicator").hide();
                        $("#blogEntry-51563-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51563-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51563-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><p>Hello everyone!</p><p>Top 200 from the First Qualification Round have already advanced to the Elimination Round, but the other paricipants still strive to get there. If you haven't qualified yet, we invite you to take part in the Second Qualification Round that will take place this Sunday, <a href="https://www.timeanddate.com/worldclock/fixedtime.html?msg=Russian+Code+Cup+Qual+2&amp;iso=20170416T12&amp;p1=166&amp;ah=2">April 16, at 12-00 Moscow Time</a>. Best 200 participants will advance to the Elimination Round, other participants can try again in the Third Qualification Round.</p><p>Good luck to everyone, see you at <a href="http://russiancodecup.ru">http://russiancodecup.ru</a>!</p></div><p><a href="/blog/entry/51563">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-51814"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-51814">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+41</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-51814"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-51814">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51563"
             data-yashareTitle="Codeforces: Russian Code Cup 2017 — Second Qualification Round"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Apr/13/2017 20:23">5 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51563#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51563#comments">
        23
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-51814").click(function () {
        $.post("/data/topic/vote", {topicId: 51814, _tta: Codeforces.tta(), topicRevisionId: 118109, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-51814").click(function () {
        $.post("/data/topic/vote", {topicId: 51814, _tta: Codeforces.tta(), topicRevisionId: 118109, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="51625">
    <div class="title">
            <a href="/blog/entry/51390">            <p>Russian Code Cup Qual 1 — Editorial</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
                <a href="/topic/51625/en1">history</a>,
            <span class="format-humantime" title="Apr/02/2017 21:04">5 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51390-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51390-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51390-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51390-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51390-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51390-blogId-error blogEntry-51390-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51390-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51390-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51390-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51390-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51390-contestId-error blogEntry-51390-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51390-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51390-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51390-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51390-resourceType-error blogEntry-51390-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51390-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51390-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51390-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51390-error").hide();

        $(".attach-blogEntry-51390-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51390-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51390-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51390-error").hide();
                    $("#facebox #blogEntry-51390-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51390-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51390-contestId").val(),
                        blogEntryId:"51390",
                        resourceType:$("#facebox #blogEntry-51390-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51390-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51390-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51390-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51390-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51390-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51390-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51390-contestId-loading-indicator").hide();
                        $("#blogEntry-51390-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51390-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51390-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><h2>A. Martian Volleyball</h2><p>First note that in order to end the game as soon as possible only the currently leading team must get points.</p><p>Consider the condition that one of the teams wins. It must score at least <i>k</i> points and have at least 2 points advantage.</p><p>So the answer is <i>max</i>(<i>k</i>, <i>min</i>(<i>x</i>, <i>y</i>) + 2) - <i>max</i>(<i>x</i>, <i>y</i>).</p><h2>B. Painting the Wall</h2> <p>First note that if the maximal length of the continuous segment is <i>L</i>, at least <i>L</i> colors are needed to paint the wall. On the other side <i>L</i> colors is always enough.</p><p>Consider a square <i>L</i> × <i>L</i>, fill the first line with integers from 1 to <i>L</i>, fill the following lines with all its possible circular shifts. Use these squares to cover the given wall rectangle like this (<i>L</i> = 4):</p><center> 1 2 3 4 1 2 3 4 1 2<p>2 3 4 1 2 3 4 1 2 3</p><p>3 4 1 2 3 4 1 2 3 4</p><p>... </p></center><p>Now each vertical and horizontal segment of length <i>L</i> or less has all tiles of different colors. All that is left is to bring back the lamps.</p><h2>C. Magic Artifact</h2> <p>Let us denote advantage that Maxim gets if he finds artifact as <i>c</i><sub><i>i</i></sub>, so <i>c</i><sub><i>i</i></sub> = <i>a</i><sub><i>i</i></sub> - <i>b</i><sub><i>i</i></sub>.</p><p>Let Maxim first complete levels in order 1, 2, ..., <i>n</i>. If he finds the artifact at the <i>i</i>-th level, the time he needs to complete the game is equal to <i>b</i><sub><i>j</i></sub> plus <i>c</i><sub>1</sub> + ... + <i>c</i><sub><i>i</i></sub>. So the expected time of completing the game is:</p><p><i>b</i><sub>1</sub> + ... + <i>b</i><sub><i>n</i></sub> + <i>p</i><sub>1</sub>·<i>c</i><sub>1</sub> + <i>p</i><sub>2</sub>·(<i>c</i><sub>1</sub> + <i>c</i><sub>2</sub>) + ... + <i>p</i><sub><i>n</i></sub>·(<i>c</i><sub>1</sub> + ... + <i>c</i><sub><i>n</i></sub>).</p><p><i>b</i><sub>1</sub> + ... + <i>b</i><sub><i>n</i></sub> doesn't depend on level order, so let us try to make the rest as small as possible. Expanding the sums, we get sum of all <i>c</i><sub><i>i</i></sub>·<i>p</i><sub><i>k</i></sub> for such <i>i</i>, <i>k</i> that <i>i</i> ≤ <i>k</i>.</p><p>Let us now swap levels <i>i</i> and <i>i</i> + 1 in our order. For the given <i>i</i> among <i>c</i><sub><i>i</i></sub>·<i>p</i><sub><i>k</i></sub> terms only the one equal to <i>c</i><sub><i>i</i></sub>·<i>p</i><sub><i>i</i> + 1</sub> changes — it is replaced with <i>c</i><sub><i>i</i> + 1</sub>·<i>p</i><sub><i>i</i></sub>. If the order was optimal, it must be <i>c</i><sub><i>i</i></sub>·<i>p</i><sub><i>i</i> + 1</sub> ≤ <i>c</i><sub><i>i</i> + 1</sub>·<i>p</i><sub><i>i</i></sub>, in the other case it was optimal to swap them and get a better answer. Transform this to:</p><p><i>c</i><sub><i>i</i></sub> / <i>p</i><sub><i>i</i></sub> ≤ <i>c</i><sub><i>i</i> + 1</sub> / <i>p</i><sub><i>i</i> + 1</sub>.</p><p>In the optimal answer for all <i>i</i> from 1 to <i>n</i> - 1 this inequality must be satisfied. Therefore it is optimal to sort levels according to the key <i>c</i><sub><i>i</i></sub> / <i>p</i><sub><i>i</i></sub>. Note that if <i>p</i><sub><i>i</i></sub> = 0, you may consider <i>c</i><sub><i>i</i></sub> / <i>p</i><sub><i>i</i></sub> = ∞.</p><p>Sorting according to the key <i>c</i><sub><i>i</i></sub> / <i>p</i><sub><i>i</i></sub> should be done carefully. If the fractions are compared using floating-point division, the case <i>c</i><sub><i>i</i></sub> = <i>p</i><sub><i>i</i></sub> = 0 will lead to error because 0 / 0 = <i>NaN</i>. If the fractions are compared using the comparator <i>c</i><sub><i>i</i></sub>·<i>p</i><sub><i>k</i></sub> &lt; <i>c</i><sub><i>k</i></sub>·<i>p</i><sub><i>i</i></sub>, the case <i>c</i><sub><i>i</i></sub> = <i>p</i><sub><i>i</i></sub> = 0 will also lead to error because the result of that comparison will always be false. That means that levels with <i>c</i><sub><i>i</i></sub> = <i>p</i><sub><i>i</i></sub> = 0 should be handled separately. Such levels can be completed at any time because they do not affect the result besides fixed terms <i>b</i><sub><i>i</i></sub>. For example, they can be placed at the end.</p><p>After sorting the desired expected value can be found using the formula above, use prefix sums for <i>c</i><sub><i>i</i></sub> to get it fast.</p><h2>D. Memory Manager</h2> <p>First for each query <i>q</i><sub><i>i</i></sub> let us find <i>go</i><sub><i>i</i></sub> — the minimal <i>j</i>, such that among <i>q</i><sub><i>j</i></sub>, <i>q</i><sub><i>j</i> + 1</sub>, ..., <i>q</i><sub><i>i</i></sub> there are at most <i>k</i> different blocks — that would mean that it is possible to place pointers before the <i>j</i>-th query in such way that queries <i>j</i>, <i>j</i> + 1, ..., <i>i</i> are performed immediately. This can be made in <i>O</i>(<i>sum</i>(|<i>q</i><sub><i>i</i></sub>|)), using, for example, two pointers.</p><p>Now let us use dynamic programming, denote as <i>dp</i><sub><i>i</i></sub> the minimal time needed to perform the first <i>i</i> queries. If <i>go</i><sub><i>i</i></sub> = 0 then <i>dp</i><sub><i>i</i></sub> = 0. If the equation is not satisfied, <i>dp</i><sub><i>i</i></sub> = <i>min</i><sub><i>j</i> = <i>go</i><sub><i>i</i></sub>..<i>i</i></sub>(<i>dp</i><sub><i>j</i> - 1</sub> + <i>s</i><sub><i>j</i></sub>) — we choose the query <i>j</i> to perform the pointer movement before. Since values <i>go</i><sub><i>i</i></sub> do not descend, this value can be maintained using either std::set of <i>dp</i><sub><i>j</i> - 1</sub> + <i>s</i><sub><i>j</i></sub>, or queue with minimum query support.</p><h2>E. LISA</h2> <p>First let us consider the problem for given two strings: to solve it calculate the number of occurrences of each letter in the first string, the number of occurrences of each letter in the second string, not including the first letter of the first string and the last letter of the second string, that must be used any way. Now the answer is the product of string lengths, decreased by the sum of values cnt1[letter] * cnt2[letter] for each letter. Let us leave proof as an exercise, such problem was at Northern Subregional Contest of NEERC 2015 <a href="http://neerc.ifmo.ru/archive/2015/northern/north-2015-statements.pdf"></a><a>http://neerc.ifmo.ru/archive/2015/northern/north-2015-statements.pdf</a>, Problem C. Unlimited participants could solve this problem at Three Quaterfinals Cup.</p><p>For <i>n</i> strings similar ideas can be used. Put all strings to a prefix trie, all strings to a suffix trie, the total number of ways to get a string is the product of the number of vertices in these tries. What we need to subtract is similar product of number of occurrences of letters in tries, first/last letters of each word must not be considered.</p><p>Now we need to answer segment queries. Let us make sqrt-decomposition, divide all strings to groups based on sum of their lengths. Let us greedily add strings to a group until their sum of lengths is more than sqrt(total sum of lengths). Note that the last string can have a big length.</p><p>Now use Mo's algorithm, sort queries using the block of the left end as a key, move right end only forward between left end block changes. To add/remove a string to a trie one must maintain the number of active vertices in a trie subtree for each vertex, and the number of entries of letters to a trie.</p></div><p><a href="/blog/entry/51390">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-51625"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-51625">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+33</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-51625"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-51625">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51390"
             data-yashareTitle="Codeforces: Russian Code Cup Qual 1 — Editorial"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Apr/02/2017 21:04">5 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51390#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51390#comments">
        0
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-51625").click(function () {
        $.post("/data/topic/vote", {topicId: 51625, _tta: Codeforces.tta(), topicRevisionId: 117456, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-51625").click(function () {
        $.post("/data/topic/vote", {topicId: 51625, _tta: Codeforces.tta(), topicRevisionId: 117456, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="51576">
    <div class="title">
            <a href="/blog/entry/51341">            <p>Russian Code Cup 2017 — First Qualification Round</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
            <span class="format-humantime" title="Mar/31/2017 14:21">5 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51341-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51341-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51341-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51341-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51341-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51341-blogId-error blogEntry-51341-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51341-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51341-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51341-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51341-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51341-contestId-error blogEntry-51341-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51341-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51341-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51341-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51341-resourceType-error blogEntry-51341-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51341-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51341-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51341-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51341-error").hide();

        $(".attach-blogEntry-51341-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51341-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51341-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51341-error").hide();
                    $("#facebox #blogEntry-51341-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51341-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51341-contestId").val(),
                        blogEntryId:"51341",
                        resourceType:$("#facebox #blogEntry-51341-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51341-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51341-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51341-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51341-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51341-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51341-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51341-contestId-loading-indicator").hide();
                        $("#blogEntry-51341-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51341-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51341-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><p>Hi, everyone!</p><p>This Sunday, <a href="https://www.timeanddate.com/worldclock/fixedtime.html?msg=Russian+Code+Cup+Qual+1&amp;iso=20170402T19&amp;p1=166&amp;ah=2">April, 2 at 19-00 Moscow time</a> the First Qualification Round of Russian Code Cup 2017 will take place. 200 top participants will qualify for the Elimination Round, those who wouldn't qualify can still take part in two following qualification rounds.</p><p>We have a news for you: we have added Kotlin, Haskell and Free Pascal to our list of programming languages, also you can now submit your Python programs to run in PyPy. Exact versions of compilers and compilation commands are published at the official web site. We are working on adding more programming languages.</p><p>Good luck to everyone and see you at <a href="http://russiancodecup.ru">http://russiancodecup.ru</a>!</p><p><strong>UPD</strong> <a href="http://www.russiancodecup.ru/en/press/razbor-zadach-1-go-kvalifikacionnogo-raunda-rcc-2017/">Editorial</a> is published</p></div><p><a href="/blog/entry/51341">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-51576"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-51576">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+118</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-51576"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-51576">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51341"
             data-yashareTitle="Codeforces: Russian Code Cup 2017 — First Qualification Round"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Mar/31/2017 14:21">5 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51341#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51341#comments">
        49
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-51576").click(function () {
        $.post("/data/topic/vote", {topicId: 51576, _tta: Codeforces.tta(), topicRevisionId: 117458, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-51576").click(function () {
        $.post("/data/topic/vote", {topicId: 51576, _tta: Codeforces.tta(), topicRevisionId: 117458, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="51324">
    <div class="title">
            <a href="/blog/entry/51089">            <p>Russian Code Cup 2017 Warmup — Problems (and testing queue length) analysis</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
            <span class="format-humantime" title="Mar/19/2017 16:31">6 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51089-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51089-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51089-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51089-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51089-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51089-blogId-error blogEntry-51089-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51089-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51089-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51089-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51089-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51089-contestId-error blogEntry-51089-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51089-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51089-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51089-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51089-resourceType-error blogEntry-51089-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51089-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51089-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51089-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51089-error").hide();

        $(".attach-blogEntry-51089-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51089-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51089-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51089-error").hide();
                    $("#facebox #blogEntry-51089-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51089-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51089-contestId").val(),
                        blogEntryId:"51089",
                        resourceType:$("#facebox #blogEntry-51089-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51089-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51089-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51089-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51089-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51089-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51089-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51089-contestId-loading-indicator").hide();
                        $("#blogEntry-51089-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51089-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51089-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><p> Hello, everyone and thank you for participation! </p> <p> First of all we would like to say sorry for the length of the testing queue during the first hour. We have selected IOIP problems for the Warmup Round — there are many common problemsetters for IOIP and RCC — the round was prepared by Victoria Erokhina (<a class="rated-user user-blue" href="/profile/viktoria" title="Expert viktoria">viktoria</a>), Dmitry Filippov (<a class="rated-user user-violet" href="/profile/DimaPhil" title="Candidate Master DimaPhil">DimaPhil</a>), Stanislav Naumov (<a class="rated-user user-red" href="/profile/josdas" title="Grandmaster josdas">josdas</a>), Mikhail Putilin (<a class="rated-user user-red" href="/profile/SpyCheese" title="International Grandmaster SpyCheese">SpyCheese</a>), Grigory Shovkoplyas (<a class="rated-user user-blue" href="/profile/GShark" title="Expert GShark">GShark</a>), Andrew Stankevich (<a class="rated-user user-red" href="/profile/andrewzta" title="Grandmaster andrewzta">andrewzta</a>), Ilya Zban (<a class="rated-user user-red" href="/profile/izban" title="International Grandmaster izban">izban</a>). We wanted to let everyone solve our interesting problems. </p> <p> But one small glitch lead to a big failure. You might have noticed that we usually make multiple tests in one input data for RCC. That is because the most expensive operation is to run user solution. But IOIP has fewer participants, so the easiest problem had 32 tests. It is not too many for a problem, but during 15 minutes 400 participants submitted the correct solution and our testing machines capacity was not enough. </p> <p> We decreased the number of tests in the problem, and the situation got better. We will take this into account when preparing problems for future contests. </p> <p> Now let us proceed to problem analysis. </p><div class="problem-statement"><div class="header"><div class="title">A. Spaceship</div></div><div><p>Note that if the last enemy to destroy has power equal to <span class="tex-span"><i>x</i></span>, the sum of powers of all enemies is <span class="tex-span">2<i>x</i></span>. Therefore to find the power of the enemy to destroy last, let us find the sum of all powers and divide it by two. After that just pick any enemy with such power and swap it with the last one.</p></div></div> <div class="problem-statement"><div class="header"><div class="title">B. Rangers in the Bus</div></div><div><p>Let us process passengers one by one. Since Pink Ranger could take any seat, any passenger can be Pink Ranger.</p><p>For each seat we want to be able to quickly answer if it is free. Let us use std::set that stores the set of occupied seats. To check whether the current passenger can be Red Ranger let us find the seat that Red Ranger would choose. Iterate row from 1 to <span class="tex-span"><i>n</i></span>, and if there is a free seat in the current row, take the left seat if it is free, or the right seat in the other case. If the current passenger chose that seat, he could be Red Ranger. Similarly we can check whether the current passenger could be Blue, Black or Yellow Ranger. After processing the passenger, add the seat he chose to the set of occupied seats.</p><p>The solution described uses <span class="tex-span"><i>O</i>(<i>nk</i>)</span> time and <span class="tex-span"><i>O</i>(<i>k</i>)</span> memory. </p><p>To get rid of time limit, let us note that all we need is to store the minimal and the maximal row that have free seats. Use two indices <span class="tex-span"><i>first</i></span> and <span class="tex-span"><i>last</i></span> to store them. Initially <span class="tex-span"><i>first</i> = 1</span>, <span class="tex-span"><i>last</i> = <i>n</i></span>. After each passenger update these values. Increase <span class="tex-span"><i>first</i></span> by <span class="tex-span">1</span>, until the row pointed by <span class="tex-span"><i>first</i></span> is completely occupied, then similarly decreaser <span class="tex-span"><i>last</i></span>. There are at most <span class="tex-span"><i>k</i> / 2</span> occupied rows, so both indices will be changed <span class="tex-span"><i>O</i>(<i>k</i>)</span> times.</p></div></div> <div class="problem-statement"><div class="header"><div class="title">C. Magic Weapon</div></div><div><p>Precalculate arrays: <span class="tex-span"><i>R</i>[<i>a</i>][<i>b</i>]</span> — the number of red details that have the first digit of the model number equal to <span class="tex-span"><i>a</i></span> and the last digit equal to <span class="tex-span"><i>b</i></span>; <span class="tex-span"><i>G</i>[<i>a</i>]</span> — the number of green details that have the last digit equal to <span class="tex-span"><i>a</i></span>; и <span class="tex-span"><i>B</i>[<i>b</i>]</span> — the number of blue details that have the first digit equal to <span class="tex-span"><i>b</i></span>.</p><p>It model numbers of different colors were distinct, the answer would be equal to the sum for all <span class="tex-span"><i>a</i></span> and <span class="tex-span"><i>b</i></span> of values <span class="tex-span"><i>G</i>[<i>a</i>]·<i>R</i>[<i>a</i>][<i>b</i>]·<i>B</i>[<i>b</i>]</span>. </p><p>To resolve the situation when some pair of details have the same model number, calculate the number of red-blue pairs with the same model number, red-green pairs and green-blue pairs. Note that only model numbers with the same first and last digit need to be considered. You can use std::map to calculate the number of such model numbers. Now use inclusion-exclusion principle to find the answer: subtract the number of pairs of each type and add back twice the number of triples that all three rangers use detail with the same model number.</p></div></div> <div class="problem-statement"><div class="header"><div class="title">D. Knights and Knaves</div></div><div><p>Let us use dynamic programming with mask of the last two columns as a state. Consider for example subtask of calculating the maximal number of knights.</p><p>Let <span class="tex-span"><i>dp</i>[<i>i</i>][<i>mask</i>_<i>prev</i>][<i>mask</i>_<i>cur</i>]</span> be the maximal number of knights that can be positined among the first <span class="tex-span"><i>i</i></span> columns, where <span class="tex-span"><i>mask</i>_<i>cur</i></span> is the mask of the <span class="tex-span"><i>i</i></span>-th column, <span class="tex-span"><i>mask</i>_<i>prev</i></span> is the mask of the <span class="tex-span">(<i>i</i> - 1)</span>-th. Use bit equal to 1 to denote a knight and 0 to denote a knave.</p><p>Try all possible masks for the <span class="tex-span">(<i>i</i> + 1)</span>-th column, check whether constraints for the soldiers in the <span class="tex-span"><i>i</i></span>-th column are satisfied, because now we know all of their neighbors.</p><p>The first and the last columns must be considered separately, because soldiers there don't have one of the neighbors.</p><p>Initial values: <span class="tex-span"><i>dp</i>[2][<i>mask</i>_<i>prev</i>][<i>mask</i>_<i>cur</i>]</span> the number of ones in <span class="tex-span"><i>mask</i>_<i>prev</i></span> and <span class="tex-span"><i>mask</i>_<i>cur</i></span>, if <span class="tex-span"><i>mask</i>_<i>prev</i></span> can be before <span class="tex-span"><i>mask</i>_<i>cur</i></span>.</p><p>Updating values: relax <span class="tex-span"><i>dp</i>[<i>i</i> + 1][<i>mask</i>_<i>cur</i>][<i>mask</i>_<i>next</i>]</span> with <span class="tex-span"><i>dp</i>[<i>i</i>][<i>mask</i>_<i>prev</i>][<i>mask</i>_<i>cur</i>] + <i>ones</i>(<i>mask</i>_<i>next</i>)</span>, where <span class="tex-span"><i>ones</i>(<i>x</i>)</span> is the number of ones in <span class="tex-span"><i>x</i></span>.</p><p>The answer is the maximum among <span class="tex-span"><i>dp</i>[<i>k</i>][<i>mask</i>_<i>prev</i>][<i>mask</i>_<i>cur</i>]</span>, such that <span class="tex-span"><i>mask</i>_<i>cur</i></span> can be after <span class="tex-span"><i>mask</i>_<i>prev</i></span>.</p><p>Finally, we probably need to consider <span class="tex-span"><i>k</i> = 1</span> separately, because there is no previsous column for any column in this case.</p></div></div> <div class="problem-statement"><div class="header"><div class="title">E. Parallelepiped</div></div><div><p>Let us give a sketch of the main solution idea. First, separately consider all parallelepipeds that have two or three equal sides. This can be done in <span class="tex-span"><i>O</i>(<i>n</i>)</span>. </p><p>Now let us consider the case where all three sides are different. Let us build the following undirected graph: vertices are side length, connect <span class="tex-span"><i>a</i></span> and <span class="tex-span"><i>b</i></span> if there are at least two sheets of size <span class="tex-span"><i>a</i> × <i>b</i></span>. Now the problem is reduced to considering all triangles in this graph which can be done in <span class="tex-span"><i>O</i>(<i>n</i><sup class="upper-index">2</sup> / <i>w</i>)</span> or <span class="tex-span"><i>O</i>(<i>nsqrt</i>(<i>n</i>))</span> time (here <span class="tex-span"><i>w</i></span> is the word size, 32 or 64 which comes up from bit compression).</p></div></div></div><p><a href="/blog/entry/51089">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-51324"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-51324">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+23</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-51324"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-51324">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51089"
             data-yashareTitle="Codeforces: Russian Code Cup 2017 Warmup — Problems (and testing queue length) analysis"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Mar/19/2017 16:31">6 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51089#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51089#comments">
        3
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-51324").click(function () {
        $.post("/data/topic/vote", {topicId: 51324, _tta: Codeforces.tta(), topicRevisionId: 116681, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-51324").click(function () {
        $.post("/data/topic/vote", {topicId: 51324, _tta: Codeforces.tta(), topicRevisionId: 116681, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>
<div style="margin-bottom:2em;">


<div class="topic" topicId="51236">
    <div class="title">
            <a href="/blog/entry/51001">            <p>Russian Code Cup 2017 — Announcement</p>
</a>
    </div>

    <div class="info" style="position:relative;">
            By&nbsp;<a href="/profile/RussianCodeCup" title="Unrated, RussianCodeCup" class="rated-user user-black">RussianCodeCup</a>,
            <span class="format-humantime" title="Mar/15/2017 22:49">6 months ago</span>,
            translation,
            <img style="position: relative;top: 5px;" src="http://st.codeforces.com/s/71216/images/flags/24/gb.png" alt="In English" title="In English"/>,

<a class="attach-blogEntry-51001-to-contest-link" href="#"><img src="http://st.codeforces.com/s/71216/images/icons/paperclip-16x16.png" title="Attach this blog to some contest as a resource"/></a>

<style type="text/css">
    .attach-blogEntry-51001-to-contest-form tr:not(:last-of-type) td {
        padding-bottom: 1em;
    }

    .blogEntry-51001-error {
        font-size: 1.1rem;
    }
</style>

<div class="attach-blogEntry-51001-to-contest-form-holder" style="display: none;padding: 1em;margin: 1em;">
    <form class="attach-blogEntry-51001-to-contest-form" method="post"><input type='hidden' name='csrf_token' value='e0954433c2cad524c94a0eb65a910a59'/>
        <table style="width: 100%;">
            <thead>
            </thead>
            <tbody>
        <tr class="subscription-row blogEntry-51001-blogId-error blogEntry-51001-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51001-blogId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51001-contestId">Contest:</label></td>
                <td>
                    <select id="blogEntry-51001-contestId" name="contestId" style="width: 100%;float: left;" disabled>
                        <option value=""></option>
                    </select>
                </td>
                <td>
                    <img id="blogEntry-51001-contestId-loading-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"/>
                </td>
            </tr>
        <tr class="subscription-row blogEntry-51001-contestId-error blogEntry-51001-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51001-contestId">-</span>
</div></td>
        </tr>
            <tr>
                <td style="width: 30%;"><label for="blogEntry-51001-resourceType">Type:</label></td>
                <td>
                    <select id="blogEntry-51001-resourceType" name="resourceType" style="width: 100%;">
                        <option value="" selected></option>
                        <option value="STATEMENT">statements</option>
                        <option value="TUTORIAL">tutorial</option>
                        <option value="ANNOUNCEMENT">announcement</option>
                        <option value="DISCUSSION">discussion</option>
                    </select>
                </td>
                <td></td>
            </tr>
        <tr class="subscription-row blogEntry-51001-resourceType-error blogEntry-51001-error">
            <td>&nbsp;</td>
        <td colspan="2"><div class="shiftUp">        <span class="error for__blogEntry-51001-resourceType">-</span>
</div></td>
        </tr>
            <tr>
                <td colspan="2" style="text-align: center;">
                    <input type="submit" id="blogEntry-51001-resource-submit" value="Attach" disabled
                           style="padding: 0.25em 0.5em;margin: 1em;width: 8em;"/>
                </td>
                <td>
                    <img id="blogEntry-51001-resource-submitting-indicator" src="http://st.codeforces.com/s/71216/images/indicator.gif"
                         style="display: none;"/>
                </td>
            </tr>
            </tbody>
        </table>
    </form>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $(".blogEntry-51001-error").hide();

        $(".attach-blogEntry-51001-to-contest-link").click(function () {
            Codeforces.facebox(".attach-blogEntry-51001-to-contest-form-holder", "http://st.codeforces.com/s/71216");

            $("#facebox .attach-blogEntry-51001-to-contest-form").submit(function () {
                if ($(this).find(":disabled").length === 0) {
                    $("#facebox .blogEntry-51001-error").hide();
                    $("#facebox #blogEntry-51001-resource-submitting-indicator").show();
                    $("#facebox #blogEntry-51001-resource-submit").attr("disabled", "disabled");

                    //noinspection JSUnusedGlobalSymbols
                    $.post("/data/blogAndContest?action=attachBlogToContest", {
                        blogId:"47376", contestId:$("#facebox #blogEntry-51001-contestId").val(),
                        blogEntryId:"51001",
                        resourceType:$("#facebox #blogEntry-51001-resourceType").val()
                    }, function (json) {
                        var validated = true;

                        for (var key in json) {
                            if (json.hasOwnProperty(key) && key.indexOf("error__") === 0) {
                                validated = false;
                                $("#facebox .blogEntry-51001-" + key.substring("error__".length) + "-error").show();
                                $("#facebox .for__blogEntry-51001-" + key.substring("error__".length)).text(json[key]);
                            }
                        }

                        $("#facebox #blogEntry-51001-resource-submitting-indicator").hide();
                        $("#facebox #blogEntry-51001-resource-submit").removeAttr("disabled");

                        if (validated) {
                            $.facebox.close();
                            if (json["success"] === "true") {
                                Codeforces.showMessage("Blog has been successfully attached to selected contest");
                            } else {
                                Codeforces.showMessage("There is unexpected error while attaching blog to the contest");
                            }
                        }
                    }, "json");
                }

                return false;
            });

            var contestSelect = $("#blogEntry-51001-contestId");
            var popupContestSelect = $("#facebox #blogEntry-51001-contestId");

            if (popupContestSelect.is(":disabled")) {
                $.post("/data/contests?action=getContestListWithEditableResources", function (data) {
                    if (data["result"] === "success") {
                        var contests = data["contests"];

                        for (var i = 0, contestCount = contests.length; i < contestCount; ++i) {
                            //noinspection StringLiteralBreaksHTMLJS
                            var contestOptionHtml = "<option value=\"" + contests[i]["id"] + "\">"
                                    + contests[i]["id"] + " - " + contests[i]["name"] + "</option>";
                            contestSelect.append(contestOptionHtml);
                            popupContestSelect.append(contestOptionHtml);
                        }

                        contestSelect.removeAttr("disabled");
                        $("#blogEntry-51001-contestId-loading-indicator").hide();
                        $("#blogEntry-51001-resource-submit").removeAttr("disabled");

                        popupContestSelect.removeAttr("disabled");
                        $("#facebox #blogEntry-51001-contestId-loading-indicator").hide();
                        $("#facebox #blogEntry-51001-resource-submit").removeAttr("disabled");
                    } else {
                        alert("Can't receive contest list");
                    }
                }, "json");
            }

            return false;
        });
    });
</script>



        <span style="position:absolute;right:0;top:0.05em;margin-right:1em;display:inline;font-size:0.75em;">
            <div style="margin-top:0.25em;">
            </div>
        </span>
    </div>

    <div class="content">
        <div class="ttypography"><p>Hi, everyone!</p><p>We are pleased to announce Russian Code Cup 2017! Qualification rounds will start in April, the Final round will be held online in September. Each of the three Qualification rounds will allow 200 participants to qualify for Elimination round, top 50 from Elimination round will proceed to Final round. The problems will be both in Russian and in English.</p><p>The full schedule of the tournament can be found at <a href="http://russiancodecup.ru">http://russiancodecup.ru</a>, you can also register there. Note that you must register for the new season even if you took part in the previous tournaments.</p><p>We still have more than two weeks before the first Qualification, so we would like to invite everyone to the warm up round that will take plance on <a href="https://www.timeanddate.com/worldclock/fixedtime.html?msg=RCC+2017+Warmup&amp;iso=20170319T14&amp;p1=166&amp;ah=2">Sunday, March 19, 14-00 Moscow time</a>. Visit <a href="http://russiancodecup.ru">http://russiancodecup.ru</a> to take part in the round, it will be 2 hours long.</p><p>Good luck to everyone and see you at Russian Code Cup 2017!</p><p><strong>UPD:</strong> We remind you that the Warmup Round will start at 14-00 Moscow time. Problems of the Warmup Round are based on IOIP problems (Russian contest for high school students, run today at several cities) that are prepared by the same team of authors. We kindly ask students that take part in IOIP to play fairly and not to try to take part in RCC Warmup. Good luck to everyone!</p><p><strong>UPD2:</strong> Thanks to all participants that made a real stress testing for our judging machines. Unfortunately we had long queues during the first hour, they were fixed, and from the middle of the contest the waiting time in most cases was limited to 2-3 minutes. We will make sure there would be no queues during further rounds.</p></div><p><a href="/blog/entry/51001">Read more »</a></p>
    </div>



    <div class="roundbox meta" style="">
            <div class="roundbox-lt">&nbsp;</div>
            <div class="roundbox-rt">&nbsp;</div>
            <div class="roundbox-lb">&nbsp;</div>
            <div class="roundbox-rb">&nbsp;</div>
        <div class="left-meta">
            <ul>
                    <li>        <a href="#" class="topic-vote-up-51236"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/voteup.png"
            alt="Vote: I like it" title="Vote: I like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-up-51236">
        
        </a>
</li>
                    <li>

        
        <span title="Topic rating" style='font-size:larger;font-weight:bold;color:green'>+87</span>
        
</li>
                    <li>        <a href="#" class="topic-vote-down-51236"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/actions/votedown.png"
            alt="Vote: I do not like it" title="Vote: I do not like it"
        /></a>
        &nbsp;


        <a href="#" class="topic-vote-down-51236">
        
        </a>
</li>
            </ul>
        </div>

        <div class="yashare-auto-init" style="display: inline; position: relative; top: 5px; left: 0;"
             data-yashareL10n="en"
             data-yashareType="none"
               data-yashareLink="http://codeforces.com/blog/entry/51001"
             data-yashareTitle="Codeforces: Russian Code Cup 2017 — Announcement"
             data-yashareQuickServices="vkontakte,facebook,twitter,lj">
        </div>

        <span style="position: relative; top: 7px; left: 0.8em;">
        </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/RussianCodeCup"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/user_16x16.png"
            alt="Author" title="Author"
        /></a>
        &nbsp;


        <a href="/profile/RussianCodeCup">
        RussianCodeCup
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/date_16x16.png"
            alt="Publication date" title="Publication date"
        />
        &nbsp;


        
        <span class="format-humantime" title="Mar/15/2017 22:49">6 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/51001#comments"><img style="vertical-align:middle;position:relative;top:-0.2em;" src="http://st.codeforces.com/s/71216/images/blog/comments_16x16.png"
            alt="Comments" title="Comments"
        /></a>
        &nbsp;


        <a href="/blog/entry/51001#comments">
        27
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;"/>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
    $(".topic-vote-up-51236").click(function () {
        $.post("/data/topic/vote", {topicId: 51236, _tta: Codeforces.tta(), topicRevisionId: 116672, vote: +1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
    $(".topic-vote-down-51236").click(function () {
        $.post("/data/topic/vote", {topicId: 51236, _tta: Codeforces.tta(), topicRevisionId: 116672, vote: -1}, function(data) {
            Codeforces.showMessage(data);
        }, "json");
        return false;
    });
        });
    </script>
</div>
</div>


                </div>
        </div>
            <br style="clear: both;"/>
            <div id="footer">
                <div><a href="http://codeforces.com/">Codeforces</a> (c) Copyright 2010-2017 Mike Mirzayanov</div>
                <div>The only programming contests Web 2.0 platform</div>
                    <div>Server time: <span class="format-timewithseconds" data-locale="en">Sep/12/2017 21:41:44</span> (c4).</div>
                    <div>Desktop version, switch to <a rel="nofollow" class="switchToMobile" href="?mobile=true">mobile version</a>.</div>
                <div class="smaller"><a href="/privacy">Privacy Policy</a></div>

            </div>
        <script type="text/javascript">
            $(function() {
                $(".switchToMobile").click(function() {
                    Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", "true"));
                    return false;
                });
                $(".switchToDesktop").click(function() {
                    Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", "false"));
                    return false;
                });
            });
        </script>
    <script type="text/javascript">
        $(document).ready(function () {
            if ($(window).width() < 1600) {
                $('.button-up').css('width', '30px').css('line-height', '30px').css('font-size', '20px');
            }

            if ($(window).width() >= 1200) {
                $ (window).scroll (function () {
                    if ($ (this).scrollTop () > 100) {
                        $ ('.button-up').fadeIn();
                    } else {
                        $ ('.button-up').fadeOut();
                    }
                });

                $('.button-up').click(function () {
                    $('body,html').animate({
                        scrollTop: 0
                    }, 500);
                    return false;
                });

                $('.button-up').hover(function () {
                    $(this).animate({
                        'opacity':'1'
                    }).css({'background-color':'#e7ebf0','color':'#6a86a4'});
                }, function () {
                    $(this).animate({
                        'opacity':'0.7'
                    }).css({'background':'none','color':'#d3dbe4'});;
                });
            }
            Codeforces.focusOnError();
        });
    </script>

        <div class="userListsFacebox" style="display:none;">
            <div style="padding: 0.5em; width: 600px; max-height: 200px; overflow-y: auto">
<div class="datatable"
     
     style="background-color: #E1E1E1; padding-bottom: 3px;">
            <div class="lt">&nbsp;</div>
            <div class="rt">&nbsp;</div>
            <div class="lb">&nbsp;</div>
            <div class="rb">&nbsp;</div>

            <div style="padding: 4px 0 0 6px;font-size:1.4rem;position:relative;">
                User lists

                <div style="position:absolute;right:0.25em;top:0.35em;">
                    <span style="padding:0;position:relative;bottom:2px;" class="rowCount"></span>

                    <img class="closed" src="http://st.codeforces.com/s/71216/images/icons/control.png"/>

                    <span class="filter" style="display:none;">
                        <img class="opened" src="http://st.codeforces.com/s/71216/images/icons/control-270.png"/>
                        <input style="padding:0;position:relative;bottom:2px;border:1px solid #aaa;height:17px;font-size:1.3rem;"/>
                    </span>
                </div>
            </div>
            <div style="background-color: white;margin:0.3em 3px 0 3px;position:relative;">
            <div class="ilt">&nbsp;</div>
            <div class="irt">&nbsp;</div>
            <table class="">
                    <thead>
                    <tr>
                        <th>Name</th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
            </table>
            </div>
        </div>
    <script type="text/javascript">
        $(document).ready(function () {
                // Create new ':containsIgnoreCase' selector for search
                jQuery.expr[':'].containsIgnoreCase = function(a, i, m) {
                    return jQuery(a).text().toUpperCase()
                            .indexOf(m[3].toUpperCase()) >= 0;
                };

                if (window.updateDatatableFilter == undefined) {
                    window.updateDatatableFilter = function(i) {
                        var parent = $(i).parent().parent().parent().parent();
                        $("tr.no-items", parent).remove();
                        $("tr", parent).hide().removeClass('visible');
                        var text = $(i).val();
                        if (text) {
                            $("tr" + ":containsIgnoreCase('" + text + "')", parent).show().addClass('visible');
                        } else {
                            parent.find(".rowCount").text("");
                            $("tr", parent).show().addClass('visible');
                        }

                        var found = false;
                        var visibleRowCount = 0;
                        $("tr", parent).each(function () {
                            if (!found) {
                                if ($(this).find("th").size() > 0) {
                                    $(this).show().addClass('visible');
                                    found = true;
                                }
                            }
                            if ($(this).hasClass('visible')) {
                                visibleRowCount++;
                            }
                        });
                        if (text) {
                            parent.find(".rowCount").text("Matches: " + (visibleRowCount - (found ? 1 : 0)));
                        }
                        if (visibleRowCount == (found ? 1 : 0)) {
                            $("<tr class='no-items visible'><td style=\"text-align:left;\"colspan=\"32\">No items<\/td><\/tr>").appendTo($(parent).find('table'));
                        }
                        $(parent).find("tr td").removeClass("dark");
                        $(parent).find("tr.visible:odd td").addClass("dark");
                    }

                    $(".datatable .closed").click(function () {
                        var parent = $(this).parent();
                        $(this).hide();
                        $(".filter", parent).fadeIn(function () {
                            $("input", parent).val("").focus().css("border", "1px solid #aaa");
                        });
                    });

                    $(".datatable .opened").click(function () {
                        var parent = $(this).parent().parent();
                        $(".filter", parent).fadeOut(function () {
                            $(".closed", parent).show();
                            $("input", parent).val("").each(function () {
                                window.updateDatatableFilter(this);
                            });
                        });
                    });

                    $(".datatable .filter input").keyup(function(e) {
                        window.updateDatatableFilter(this);
                        e.preventDefault();
                        e.stopPropagation();
                    });

                    $(".datatable table").each(function () {
                        var found = false;
                        $("tr", this).each(function () {
                            if (!found && $(this).find("th").size() == 0) {
                                found = true;
                            }
                        });
                        if (!found) {
                            $("<tr class='no-items visible'><td style=\"text-align:left;\"colspan=\"32\">No items<\/td><\/tr>").appendTo(this);
                        }
                    });

                    // Applies styles to datatables.
                    $(".datatable").each(function () {
                        $(this).find("tr:first th").addClass("top");
                        $(this).find("tr:last td").addClass("bottom");
                        $(this).find("tr:odd td").addClass("dark");
                        $(this).find("tr td:first-child, tr th:first-child").addClass("left");
                        $(this).find("tr td:last-child, tr th:last-child").addClass("right");
                    });

                    $(".datatable table.tablesorter").each(function () {
                        $(this).bind("sortEnd", function () {
                            $(".datatable").each(function () {
                                $(this).find("th, td")
                                    .removeClass("top").removeClass("bottom")
                                    .removeClass("left").removeClass("right")
                                    .removeClass("dark");
                                $(this).find("tr:first th").addClass("top");
                                $(this).find("tr:last td").addClass("bottom");
                                $(this).find("tr:odd td").addClass("dark");
                                $(this).find("tr td:first-child, tr th:first-child").addClass("left");
                                $(this).find("tr td:last-child, tr th:last-child").addClass("right");
                            });
                        });
                    });
                }
        });
    </script>
            </div>
        </div>
        <script type="application/javascript">
            $(function() {
                $(".userListMarker").click(function() {
                    $.post("/data/lists", {action: "findTouched"}, function(json) {
                        Codeforces.facebox(".userListsFacebox");
                        var tbody = $("#facebox tbody");
                        tbody.empty();
                        for (var i in json) {
                            tbody.append(
                                    $("<tr></tr>").append(
                                            $("<td></td>").attr("data-readKey", json[i].readKey).text(json[i].name)
                                    )
                            );
                        }
                        Codeforces.updateDatatables();
                        tbody.find("td").css("cursor", "pointer").click(function() {
                            document.location = Codeforces.updateUrlParameter(document.location.href, "list", $(this).attr("data-readKey"));
                        });
                    }, "json");
                });
            });
        </script>
</body>
</html>
